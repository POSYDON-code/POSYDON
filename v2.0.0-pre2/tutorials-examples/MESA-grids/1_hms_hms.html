

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Run your first MESA HMS-HMS binary simulation with POSYDON &mdash; posydon v2.0.0-dev documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/nbsphinx-code-cells.css?v=2aa19091" />
      <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=d66fa8e6" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=f4b7fd8b"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Run one binary on your laptop for debugging" href="laptop.html" />
    <link rel="prev" title="Architecting MESA Simulation Grids with POSYDON" href="running-grids.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/posydon_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../introduction-acknowledgements/intro.html">Introduction, Objectives, and Scope</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../introduction-acknowledgements/collaborative-team.html">Collaborative Team</a></li>
<li class="toctree-l1"><a class="reference external" href="https://posydon.org/papers.html">Publications</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/prerequisites.html">Prerequisites</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/installation-guide.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/verification.html">Verification</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../user-guides/user-roadmap.html">Roadmap to Becoming an Expert POSYDON User</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials and Examples</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../population-synthesis/binary-pop-syn.html">Binary-Star Population Synthesis with POSYDON</a></li>
<li class="toctree-l1"><a class="reference internal" href="../generating-datasets/generating-datasets.html">Crafting the Core Datasets for POSYDON</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="running-grids.html">Architecting MESA Simulation Grids with POSYDON</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Run your first MESA HMS-HMS binary simulation with POSYDON</a></li>
<li class="toctree-l2"><a class="reference internal" href="laptop.html">Run one binary on your laptop for debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="running_a_grid.html">Running a real POSYDON MESA HMS-HMS gird</a></li>
<li class="toctree-l2"><a class="reference internal" href="running_single_hms.html">Running Single Stars with POSYDON</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">In-Depth Components Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../components-overview/mesa-grids.html">MESA Grids API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../components-overview/processing-pipeline.html">Processing Pipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../components-overview/machine-learning-components.html">Machine Learning Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../components-overview/stellar-binary-simulation.html">Stellar &amp; Binary-star Simulation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api_reference/posydon.html">posydon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api_reference/bin.html">executables</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Troubleshooting and FAQs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../troubleshooting-faqs/installation-issues.html">Installation Issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../troubleshooting-faqs/code-questions.html">Code Usage Questions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributing to POSYDON</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/how-to-contribute.html">How To Contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/code-style-guidelines.html">Code Style Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/reporting-issues.html">Reporting issues</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Releases and Datasets</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/POSYDON-code/POSYDON/releases">Releases</a></li>
<li class="toctree-l1"><a class="reference external" href="https://zenodo.org/communities/posydon/">Datasets</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contact and Support</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contact-support/contact-information.html">Contact Information</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">posydon</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="running-grids.html">Architecting MESA Simulation Grids with POSYDON</a></li>
      <li class="breadcrumb-item active">Run your first MESA HMS-HMS binary simulation with POSYDON</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/tutorials-examples/MESA-grids/1_hms_hms.ipynb.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="Run-your-first-MESA-HMS-HMS-binary-simulation-with-POSYDON">
<h1>Run your first MESA HMS-HMS binary simulation with POSYDON<a class="headerlink" href="#Run-your-first-MESA-HMS-HMS-binary-simulation-with-POSYDON" title="Link to this heading"></a></h1>
<p>If you haven’t done it already, export all the relevan POSYDON and MESA enviroment variables.</p>
<p>Tip: create a file called <code class="docutils literal notranslate"><span class="pre">.bash_posydon</span></code> with the following content:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">PATH_TO_POSYDON</span><span class="o">=</span>/srv/beegfs/scratch/shares/astro/posydon/simone/documentation/POSYDON/
<span class="nb">export</span><span class="w"> </span><span class="nv">PATH_TO_POSYDON_DATA</span><span class="o">=</span>/srv/beegfs/scratch/shares/astro/posydon/POSYDON_GRIDS_v2/POSYDON_data/230914/

<span class="nb">export</span><span class="w"> </span><span class="nv">MESA_DIR</span><span class="o">=</span>/srv/beegfs/scratch/shares/astro/posydon/software/mesa-r11701-posydon-v2-fiximplicit
<span class="nb">export</span><span class="w"> </span><span class="nv">OMP_NUM_THREADS</span><span class="o">=</span><span class="m">4</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">MESASDK_ROOT</span><span class="o">=</span>/srv/beegfs/scratch/shares/astro/posydon/software/mesasdk-r11701
<span class="nb">source</span><span class="w"> </span><span class="nv">$MESASDK_ROOT</span>/bin/mesasdk_init.sh
</pre></div>
</div>
<p>so that every time you open a new terminal you can just run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">source</span><span class="w"> </span>.bash_posydon
</pre></div>
</div>
<p>If you haven’t done it already, please download the <code class="docutils literal notranslate"><span class="pre">development</span></code> branch of the <code class="docutils literal notranslate"><span class="pre">POSYDON-MESA-INLISTS</span></code> submodule. This is the branch that contains the simulation properties of all POSYDON MESA grids.</p>
<section id="Creating-the-Initialization-File-for-the-POSYDON-MESA-Submission-Script">
<h2>Creating the Initialization File for the POSYDON MESA Submission Script<a class="headerlink" href="#Creating-the-Initialization-File-for-the-POSYDON-MESA-Submission-Script" title="Link to this heading"></a></h2>
<p>From the submodule, you can now copy in your working directory the API ini file configuration of HMS-HMS binaries: <code class="docutils literal notranslate"><span class="pre">$PATH_TO_POSYDON/grid_params/POSYDON-MESA-INLISTS/r11701/running_scripts/HMS-HMS_yggdrasil.ini</span></code>.</p>
<p>For each grid we support two ini file configured to the Northwestern and UNIGE HPC clusters.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">shutil</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">posydon.config</span><span class="w"> </span><span class="kn">import</span> <span class="n">PATH_TO_POSYDON</span>

<span class="n">path_to_ini</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">PATH_TO_POSYDON</span><span class="p">,</span> <span class="s2">&quot;grid_params/POSYDON-MESA-INLISTS/r11701/running_scripts/HMS-HMS_yggdrasil.ini&quot;</span><span class="p">)</span>
<span class="n">shutil</span><span class="o">.</span><span class="n">copyfile</span><span class="p">(</span><span class="n">path_to_ini</span><span class="p">,</span> <span class="s1">&#39;./HMS-HMS_yggdrasil.ini&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;./HMS-HMS_yggdrasil.ini&#39;
</pre></div></div>
</div>
<p>Open the file and edit the following parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">user=your_username</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">account=your_account</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">email=your_email</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">posydon_github_root=your_path_to_POSYDON</span></code></p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">scanrio</span></code> parameter of the ini file is where the magic happens. This parameter let’s us decide which simulation we want to run. The syntax is the following:</p>
<ul class="simple">
<li><p>the first argument is the name of the submodule <code class="docutils literal notranslate"><span class="pre">posydon</span></code> which points to the POSYDON-MESA-INLISTS submodule (other options are avaialble, e.g. <code class="docutils literal notranslate"><span class="pre">user</span></code> which points to a private submodule)</p></li>
<li><p>the second argument is the name of the branch and commit of the submodule we want to use connected by a dash <code class="docutils literal notranslate"><span class="pre">-</span></code>. In this case we want to use the <code class="docutils literal notranslate"><span class="pre">development</span></code> branch of the submodule and it’s latest commit, so we write <code class="docutils literal notranslate"><span class="pre">development-c4f90ce2d93595f66751011d2002fc3ab3d090ec</span></code></p></li>
<li><p>the third argument is the name of the simulation grid we want to run, in this case we want to run a HMS-HMS grid. The name of the grid is <code class="docutils literal notranslate"><span class="pre">HMS-HMS</span></code>.</p></li>
</ul>
<p>To summarize, you should have <code class="docutils literal notranslate"><span class="pre">scenario</span> <span class="pre">=</span> <span class="pre">['posydon',</span> <span class="pre">'development-c4f90ce2d93595f66751011d2002fc3ab3d090ec',</span> <span class="pre">'HMS-HMS']</span></code></p>
<p>The <code class="docutils literal notranslate"><span class="pre">zams_file</span></code> points to the ZAMS model used to generate the HMS stars in the binary system. POSYDON v2.0.0 supports 8 different metallicities, here we use the default value that points to the 0.1Zsun POSYDON MESA ZAMS model <code class="docutils literal notranslate"><span class="pre">$PATH_TO_POSYDON/grid_params/POSYDON-MESA-INLISTS/r11701/ZAMS_models/zams_z1.42m3_y0.2511.data</span></code></p>
<p>The last parameter of this file is <code class="docutils literal notranslate"><span class="pre">grid</span></code> and points to the <code class="docutils literal notranslate"><span class="pre">csv</span></code> file containing the initial coditions of the grid. In this case we want to run a <code class="docutils literal notranslate"><span class="pre">HMS-HMS</span></code> grid consisting of one system, so we keep <code class="docutils literal notranslate"><span class="pre">grid</span> <span class="pre">=</span> <span class="pre">grid_test.csv</span></code> and generate such file specifying the metallicity, the two star masses and the initial orbital period.</p>
</section>
<section id="Craeting-the-Initial-Simulation-Points-CSV-File">
<h2>Craeting the Initial Simulation Points CSV File<a class="headerlink" href="#Craeting-the-Initial-Simulation-Points-CSV-File" title="Link to this heading"></a></h2>
<p>Note: a notebook showing you how all the grid points of v2.0.0 are generated is available in the <code class="docutils literal notranslate"><span class="pre">POSYDON-MESA-INLISTS</span></code> submodule at <code class="docutils literal notranslate"><span class="pre">$PATH_TO_POSYDON/grid_params/POSYDON-MESA-INLISTS/r11701/running_scripts/parameter_space_v2/create_csv.ipynb</span></code></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">csv</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;./grid_test.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
    <span class="n">writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
    <span class="n">writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">([</span><span class="s1">&#39;initial_z&#39;</span><span class="p">,</span><span class="s1">&#39;Zbase&#39;</span><span class="p">,</span><span class="s1">&#39;m1&#39;</span><span class="p">,</span><span class="s1">&#39;m2&#39;</span><span class="p">,</span><span class="s1">&#39;initial_period_in_days&#39;</span><span class="p">])</span>
    <span class="n">writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">([</span><span class="mf">0.00142</span><span class="p">,</span> <span class="mf">0.00142</span><span class="p">,</span> <span class="mf">30.</span><span class="p">,</span> <span class="mf">21.</span><span class="p">,</span> <span class="mf">10.</span><span class="p">])</span>
</pre></div>
</div>
</div>
<p>You should now have the following files in your working directory:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>ls
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
1_hms_hms.ipynb  grid_test.csv  HMS-HMS_yggdrasil.ini
</pre></div></div>
</div>
<p>Let’s now use the magic of POSYDON to set up the MESA simulation. In your termianal run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>posydon-setup-grid<span class="w"> </span>--grid-type<span class="w"> </span>fixed<span class="w"> </span>--inifile<span class="w"> </span>HMS-HMS_yggdrasil.ini<span class="w"> </span>--submission-type<span class="w"> </span>slurm
</pre></div>
</div>
<p>The following files will be created:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>ls
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
1_hms_hms.ipynb  grid_test.csv          mk                              star1
binary           HMS-HMS_yggdrasil.ini  slurm_job_array_grid_submit.sh  star2
</pre></div></div>
</div>
</section>
<section id="Running-the-MESA-Model-and-Exploring-the-Simulaiton-Output">
<h2>Running the MESA Model and Exploring the Simulaiton Output<a class="headerlink" href="#Running-the-MESA-Model-and-Exploring-the-Simulaiton-Output" title="Link to this heading"></a></h2>
<p>You are now ready to submit the simulation to the cluster with the following command:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>sbatch<span class="w"> </span>slurm_job_array_grid_submit.sh
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Submitted batch job 28453658
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>squeue<span class="w"> </span>-u<span class="w"> </span>bavera
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
             JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)
      28453658_[0] private-a mesa_gri   bavera PD       0:00      1 (Priority)
</pre></div></div>
</div>
<p>After the job is finished, we can check the output files:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>ls
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
1_hms_hms.ipynb
binary
grid_test.csv
HMS-HMS_yggdrasil.ini
mesa_grid.28453658_0.out
mk
slurm_job_array_grid_submit.sh
star1
star2
Zbase_0.0014_m1_30.0000_m2_21.0000_initial_z_1.4200e-03_initial_period_in_days_1.0000e+01_grid_index_0
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>ls<span class="w"> </span>Zbase_0.0014_m1_30.0000_m2_21.0000_initial_z_1.4200e-03_initial_period_in_days_1.0000e+01_grid_index_0
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
binary_history_columns.list  inlist_grid_points
binary_history.data          inlist_grid_star1_binary_controls
final_star1.mod              inlist_grid_star2_binary_controls
final_star2.mod              LOGS1
history_columns.list         LOGS2
initial_star1.mod            out.txt
initial_star2.mod            profile_columns.list
inlist                       tmp.hdf5
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>head<span class="w"> </span>-n<span class="w"> </span><span class="m">200</span><span class="w"> </span>Zbase_0.0014_m1_30.0000_m2_21.0000_initial_z_1.4200e-03_initial_period_in_days_1.0000e+01_grid_index_0/out.txt
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>


 read /srv/beegfs/scratch/shares/astro/posydon/simone/documentation/running_mesa/running_1_hms_hms/binary/inlist_project
 read inlist_grid_points
                                         version_number       11701
 read inlist_grid_star1_binary_controls
 set_eos_PC_parameters
                             mass_fraction_limit_for_PC    1.0000000000000000D-03
                                       logRho1_PC_limit    2.9990000000000001D+00
                                       logRho2_PC_limit    2.7999999999999998D+00
                                     log_Gamma_all_HELM    1.0000000000000000D+00
                                       log_Gamma_all_PC    1.3010299956000000D+00
                                 PC_Gamma_start_crystal    1.5000000000000000D+02
                                  PC_Gamma_full_crystal    1.7500000000000000D+02
                                               PC_min_Z    9.9900000000000000D-01
 change rates preference to           2
                                        set_initial_age    0.0000000000000000D+00
                               set_initial_model_number           0
 change to &#34;approx21.net&#34;
 number of species          21
 new_rotation_flag T
                                 new_surface_rotation_v           0    0.0000000000000000D+00    0.0000000000000000D+00
 net name approx21.net
 rotation_flag T
 species
     1   neut
     2   h1
     3   prot
     4   he3
     5   he4
     6   c12
     7   n14
     8   o16
     9   ne20
    10   mg24
    11   si28
    12   s32
    13   ar36
    14   ca40
    15   ti44
    16   cr48
    17   cr56
    18   fe52
    19   fe54
    20   fe56
    21   ni56

 kappa_file_prefix gs98
 kappa_lowT_prefix lowT_fa05_gs98
                                        OMP_NUM_THREADS           4




 read inlist_grid_star2_binary_controls
 set_eos_PC_parameters
                             mass_fraction_limit_for_PC    1.0000000000000000D-03
                                       logRho1_PC_limit    2.9990000000000001D+00
                                       logRho2_PC_limit    2.7999999999999998D+00
                                     log_Gamma_all_HELM    1.0000000000000000D+00
                                       log_Gamma_all_PC    1.3010299956000000D+00
                                 PC_Gamma_start_crystal    1.5000000000000000D+02
                                  PC_Gamma_full_crystal    1.7500000000000000D+02
                                               PC_min_Z    9.9900000000000000D-01
 change rates preference to           2
                                        set_initial_age    0.0000000000000000D+00
                               set_initial_model_number           0
 change to &#34;approx21.net&#34;
 number of species          21
 new_rotation_flag T
                                 new_surface_rotation_v           0    0.0000000000000000D+00    0.0000000000000000D+00
 net name approx21.net
 rotation_flag T
 species
     1   neut
     2   h1
     3   prot
     4   he3
     5   he4
     6   c12
     7   n14
     8   o16
     9   ne20
    10   mg24
    11   si28
    12   s32
    13   ar36
    14   ca40
    15   ti44
    16   cr48
    17   cr56
    18   fe52
    19   fe54
    20   fe56
    21   ni56

 kappa_file_prefix gs98
 kappa_lowT_prefix lowT_fa05_gs98
                                        OMP_NUM_THREADS           4





                                                     m2    2.1000000000000000D+01
                                                     m1    3.0000000000000000D+01
                                 initial_period_in_days    1.0000000000000000D+01
                             initial_separation_in_Rsun    7.2417496333000003D+01
                                        jdot_multiplier    1.0000000000000000D+00
                                                     fr    1.0000000000000000D-02



 The binary terminal output contains the following information

      &#39;step&#39; is the number of steps since the start of the run,
      &#39;lg_dt&#39; is log10 timestep in years,
      &#39;age_yr&#39; is the simulated years since the start run,
      &#39;M1+M2&#39; is the total mass of the system (Msun),
      &#39;M1&#39; is the mass of the primary (Msun)
      &#39;M2&#39; is the mass of the secondary (Msun)
      &#39;separ&#39; is the semi-major axis of the orbit (Rsun),
      &#39;R1&#39; is the radius of the primary (Rsun)
      &#39;R2&#39; is the radius of the secondary (Rsun)
      &#39;Porb&#39; is the orbital period (days),
      &#39;P1&#39; is the rotation period of star 1 (days, zero if not modeling rotation),
      &#39;P2&#39; is the rotation period of star 2 (days, zero if not modeling rotation),
      &#39;e&#39; orbital eccentricity,
      &#39;dot_e&#39; time derivative of e (1/yr),
      &#39;Eorb&#39; orbital energy G*M1*M2/2*separation (ergs),
      &#39;M2/M1&#39; mass ratio,
      &#39;vorb1&#39; orbital velocity of star 1 (km/s),
      &#39;vorb2&#39; orbital velocity of star 2 (km/s),
      &#39;pm_i&#39; index of star evolved as point mass, zero if both stars are modeled,
      &#39;RL1&#39; Roche lobe radius of star 1 (Rsun),
      &#39;Rl2&#39; Roche lobe radius of star 2 (Rsun),
      &#39;donor_i&#39; index of star taken as donor,
      &#39;RL_gap1&#39; (R1-Rl1)/Rl1,
      &#39;RL_gap2&#39; (R2-Rl2)/Rl2,
      &#39;dot_Mmt&#39;, mass transfer rate (Msun/yr),
      &#39;dot_M1&#39;, time derivative for the mass of star 1 (Msun/yr),
      &#39;dot_M2&#39;, time derivative for the mass of star 2 (Msun/yr),
      &#39;eff&#39;, mass transfer efficiency, computed as -dot_M2/dot_M1 (zero if dot_M1=0),
      &#39;dot_Medd&#39;, Eddington accretion rate (Msun/yr),
      &#39;L_acc&#39;, accretion luminosity when accreting to a point mass (ergs/s),
      &#39;Jorb&#39;, orbital angular momentum (g*cm^2/s)
      &#39;spin1&#39;, spin angular momentum of star 1 (g*cm^2/s),
      &#39;spin2&#39;, spin angular momentum of star 2 (g*cm^2/s),
      &#39;dot_J&#39;, time derivative of Jorb (g*cm^2/s^2),
      &#39;dot_Jgr&#39;, time derivative of Jorb due to gravitational waves (g*cm^2/s^2),
      &#39;dot_Jml&#39;, time derivative of Jorb due to mass loss (g*cm^2/s^2),
      &#39;dot_Jmb&#39;, time derivative of Jorb due to magnetic braking (g*cm^2/s^2),
      &#39;dot_Jls&#39;, time derivative of Jorb due to spin-orbit coupling (g*cm^2/s^2),
      &#39;rlo_iters&#39;, number of iterations for implicit calculation of mass transfer,

 All this and more can be saved in binary_history.data during the run.
 num_steps_to_relax_rotation          50
        relax to omega: wanted-current, current, wanted           1    7.2722052166430393D-06    0.0000000000000000D+00    7.2722052166430393D-06
        relax to omega: wanted-current, current, wanted           2    7.1239371671217664D-06    1.4826804952127298D-07    7.2722052166430393D-06
        relax to omega: wanted-current, current, wanted           3    6.9775031537422630D-06    2.9470206290077610D-07    7.2722052166430393D-06
        relax to omega: wanted-current, current, wanted           4    6.8325228134160023D-06    4.3968240322703724D-07    7.2722052166430393D-06
        relax to omega: wanted-current, current, wanted           5    6.6880335934326623D-06    5.8417162321037739D-07    7.2722052166430393D-06
        relax to omega: wanted-current, current, wanted           6    6.5429720944820478D-06    7.2923312216099155D-07    7.2722052166430393D-06
        relax to omega: wanted-current, current, wanted           7    6.3960414376057951D-06    8.7616377903724423D-07    7.2722052166430393D-06
        relax to omega: wanted-current, current, wanted           8    6.2481185101766360D-06    1.0240867064664032D-06    7.2722052166430393D-06
        relax to omega: wanted-current, current, wanted           9    6.0988144371784416D-06    1.1733907794645978D-06    7.2722052166430393D-06
         10   7.649681  4.541E+04   5.083637   5.083787  30.000000  30.000000   0.746765   0.000508   0.251100   0.747141  -6.159624   2598      0
   3.021836   0.768039   0.749893 -23.011309   3.935137 -99.000000   0.000000   0.251795   0.000441   0.001420   0.251427   0.009963      3      0
 2.3543E+03  16.667399   5.081908   1.622938   4.361599  -8.707435   0.000000   0.000004   0.000133   0.000071  1.432E-03  0.000E+00  max increase

        relax to omega: wanted-current, current, wanted          10    5.9494923842667907D-06    1.3227128323762491D-06    7.2722052166430393D-06
        relax to omega: wanted-current, current, wanted          11    5.8047902383525235D-06    1.4674149782905158D-06    7.2722052166430393D-06
        relax to omega: wanted-current, current, wanted          12    5.6656472219130140D-06    1.6065579947300258D-06    7.2722052166430393D-06
        relax to omega: wanted-current, current, wanted          13    5.5253850379006039D-06    1.7468201787424357D-06    7.2722052166430393D-06
        relax to omega: wanted-current, current, wanted          14    5.3813998139082310D-06    1.8908054027348084D-06    7.2722052166430393D-06
        relax to omega: wanted-current, current, wanted          15    5.2360332812183832D-06    2.0361719354246558D-06    7.2722052166430393D-06
        relax to omega: wanted-current, current, wanted          16    5.0905569484589031D-06    2.1816482681841367D-06    7.2722052166430393D-06
        relax to omega: wanted-current, current, wanted          17    4.9451036922867509D-06    2.3271015243562889D-06    7.2722052166430393D-06
        relax to omega: wanted-current, current, wanted          18    4.7996593421142631D-06    2.4725458745287766D-06    7.2722052166430393D-06
        relax to omega: wanted-current, current, wanted          19    4.6542152662843934D-06    2.6179899503586464D-06    7.2722052166430393D-06
         20   7.648797  4.525E+04   5.069089   5.069239  30.000000  30.000000   0.746765   0.000508   0.251100   0.747141  -6.164975   2613      0
   6.032136   0.764405   0.746596 -23.057888   3.920548 -99.000000   0.000000   0.251795   0.000441   0.001420   0.251427   0.009955      2      0
 2.1539E+06  16.663052   5.069239   1.607921   4.359365  -8.704639   0.000000   0.000004   0.000133   0.000071  1.432E-03  0.000E+00  max increase

        relax to omega: wanted-current, current, wanted          20    4.5087711728839026D-06    2.7634340437591372D-06    7.2722052166430393D-06
        relax to omega: wanted-current, current, wanted          21    4.3633267819036798D-06    2.9088784347393599D-06    7.2722052166430393D-06
        relax to omega: wanted-current, current, wanted          22    4.2178823225008446D-06    3.0543228941421948D-06    7.2722052166430393D-06
        relax to omega: wanted-current, current, wanted          23    4.0724377789053992D-06    3.1997674377376405D-06    7.2722052166430393D-06
        relax to omega: wanted-current, current, wanted          24    3.9269931252400189D-06    3.3452120914030209D-06    7.2722052166430393D-06
        relax to omega: wanted-current, current, wanted          25    3.7815483288686108D-06    3.4906568877744285D-06    7.2722052166430393D-06
        relax to omega: wanted-current, current, wanted          26    3.6361034654341649D-06    3.6361017512088744D-06    7.2722052166430393D-06
        relax to omega: wanted-current, current, wanted          27    3.4906587737615971D-06    3.7815464428814422D-06    7.2722052166430393D-06
        relax to omega: wanted-current, current, wanted          28    3.3452144110082463D-06    3.9269908056347930D-06    7.2722052166430393D-06
        relax to omega: wanted-current, current, wanted          29    3.1997702456217982D-06    4.0724349710212411D-06    7.2722052166430393D-06
         30   7.648797  4.525E+04   5.069078   5.069228  30.000000  30.000000   0.746765   0.000508   0.251100   0.747141  -6.164960   2610      0
   9.042435   0.764409   0.746606 -23.057923   3.920536 -99.000000   0.000000   0.251795   0.000441   0.001420   0.251427   0.009955      2      0
 2.2053E+09  16.663054   5.069228   1.607910   4.359335  -8.704658   0.000000   0.000004   0.000133   0.000071  1.432E-03  0.000E+00  max increase

        relax to omega: wanted-current, current, wanted          30    3.0543261335993711D-06    4.2178790830436683D-06    7.2722052166430393D-06
        relax to omega: wanted-current, current, wanted          31    2.9088820289801618D-06    4.3633231876628776D-06    7.2722052166430393D-06
</pre></div></div>
</div>
<p>Congratulation, you now know how to harvast the power of POSYDON to run a grid of simulations on a supercomputer!</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="running-grids.html" class="btn btn-neutral float-left" title="Architecting MESA Simulation Grids with POSYDON" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="laptop.html" class="btn btn-neutral float-right" title="Run one binary on your laptop for debugging" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Tassos Fragos.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      Version: v2.0.0-dev
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        
        <dl>
            <dt> v2</dt>
            
            <dd><a href="https://posydon.org/POSYDON/v2.0.6/index.html">2.0</a></dd>
            
            <dd><a href="https://posydon.org/POSYDON/v2.1.0/index.html">2.1</a></dd>
            
        </dl>
        
        <dl>
            <dt> v1</dt>
            
            <dd><a href="https://posydon.org/POSYDON/v1.0.5/index.html">1.0</a></dd>
            
        </dl>
        
    </div>
  </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>