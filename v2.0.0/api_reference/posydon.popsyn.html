

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>posydon.popsyn &mdash; posydon 2.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=d66fa8e6" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=51b770b3"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="posydon.user_modules" href="posydon.user_modules.html" />
    <link rel="prev" title="posydon.interpolation" href="posydon.interpolation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/posydon_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../introduction-acknowledgements/intro.html">Introduction, Objectives, and Scope</a></li>
<li class="toctree-l1"><a class="reference external" href="https://posydon.org/team.html">Collaborative Team</a></li>
<li class="toctree-l1"><a class="reference external" href="https://ui.adsabs.harvard.edu/public-libraries/ZZsD9bzLTzWnLV3hwyJxbA">Publications</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/prerequisites.html">Prerequisites</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/installation-guide.html">Installation Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials and Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials-examples/population-synthesis/binary-pop-syn.html">Binary-Star Population Synthesis with POSYDON</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials-examples/generating-datasets/generating-datasets.html">Crafting the Core Datasets for POSYDON</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials-examples/MESA-grids/running-grids.html">Architecting MESA Simulation Grids with POSYDON</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">In-Depth Components Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../components-overview/mesa-grids.html">MESA Grids API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../components-overview/processing-pipeline.html">Processing Pipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="../components-overview/machine-learning-components.html">Machine Learning Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../components-overview/stellar-binary-simulation.html">Stellar &amp; Binary-star Simulation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="posydon.html">posydon</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="posydon.active_learning.html">posydon.active_learning</a></li>
<li class="toctree-l2"><a class="reference internal" href="posydon.binary_evol.html">posydon.binary_evol</a></li>
<li class="toctree-l2"><a class="reference internal" href="posydon.grids.html">posydon.grids</a></li>
<li class="toctree-l2"><a class="reference internal" href="posydon.interpolation.html">posydon.interpolation</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">posydon.popsyn</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-posydon.popsyn.GRB">posydon.popsyn.GRB</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.GRB.get_GRB_properties"><code class="docutils literal notranslate"><span class="pre">get_GRB_properties()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-posydon.popsyn.analysis">posydon.popsyn.analysis</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.analysis.get_subsets"><code class="docutils literal notranslate"><span class="pre">get_subsets()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.analysis.report_columns"><code class="docutils literal notranslate"><span class="pre">report_columns()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-posydon.popsyn.binarypopulation">posydon.popsyn.binarypopulation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.binarypopulation.BinaryGenerator"><code class="docutils literal notranslate"><span class="pre">BinaryGenerator</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.binarypopulation.BinaryPopulation"><code class="docutils literal notranslate"><span class="pre">BinaryPopulation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.binarypopulation.PopulationManager"><code class="docutils literal notranslate"><span class="pre">PopulationManager</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-posydon.popsyn.defaults">posydon.popsyn.defaults</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-posydon.popsyn.independent_sample">posydon.popsyn.independent_sample</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.independent_sample.binary_fraction_value"><code class="docutils literal notranslate"><span class="pre">binary_fraction_value()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.independent_sample.generate_eccentricities"><code class="docutils literal notranslate"><span class="pre">generate_eccentricities()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.independent_sample.generate_independent_samples"><code class="docutils literal notranslate"><span class="pre">generate_independent_samples()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.independent_sample.generate_orbital_periods"><code class="docutils literal notranslate"><span class="pre">generate_orbital_periods()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.independent_sample.generate_orbital_separations"><code class="docutils literal notranslate"><span class="pre">generate_orbital_separations()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.independent_sample.generate_primary_masses"><code class="docutils literal notranslate"><span class="pre">generate_primary_masses()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.independent_sample.generate_secondary_masses"><code class="docutils literal notranslate"><span class="pre">generate_secondary_masses()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-posydon.popsyn.io">posydon.popsyn.io</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.io.binarypop_kwargs_from_ini"><code class="docutils literal notranslate"><span class="pre">binarypop_kwargs_from_ini()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.io.clean_binary_history_df"><code class="docutils literal notranslate"><span class="pre">clean_binary_history_df()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.io.clean_binary_oneline_df"><code class="docutils literal notranslate"><span class="pre">clean_binary_oneline_df()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.io.create_merge_script_text"><code class="docutils literal notranslate"><span class="pre">create_merge_script_text()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.io.create_run_script_text"><code class="docutils literal notranslate"><span class="pre">create_run_script_text()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.io.parse_inifile"><code class="docutils literal notranslate"><span class="pre">parse_inifile()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.io.simprop_kwargs_from_ini"><code class="docutils literal notranslate"><span class="pre">simprop_kwargs_from_ini()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-posydon.popsyn.normalized_pop_mass">posydon.popsyn.normalized_pop_mass</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.normalized_pop_mass.initial_total_underlying_mass"><code class="docutils literal notranslate"><span class="pre">initial_total_underlying_mass()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-posydon.popsyn.rate_calculation">posydon.popsyn.rate_calculation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.rate_calculation.get_comoving_distance_from_redshift"><code class="docutils literal notranslate"><span class="pre">get_comoving_distance_from_redshift()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.rate_calculation.get_cosmic_time_from_redshift"><code class="docutils literal notranslate"><span class="pre">get_cosmic_time_from_redshift()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.rate_calculation.get_redshift_bin_centers"><code class="docutils literal notranslate"><span class="pre">get_redshift_bin_centers()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.rate_calculation.get_redshift_bin_edges"><code class="docutils literal notranslate"><span class="pre">get_redshift_bin_edges()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.rate_calculation.get_redshift_from_cosmic_time"><code class="docutils literal notranslate"><span class="pre">get_redshift_from_cosmic_time()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.rate_calculation.get_shell_comoving_volume"><code class="docutils literal notranslate"><span class="pre">get_shell_comoving_volume()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.rate_calculation.redshift_from_cosmic_time_interpolator"><code class="docutils literal notranslate"><span class="pre">redshift_from_cosmic_time_interpolator()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-posydon.popsyn.sample_from_file">posydon.popsyn.sample_from_file</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.sample_from_file.get_kick_samples_from_file"><code class="docutils literal notranslate"><span class="pre">get_kick_samples_from_file()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.sample_from_file.get_samples_from_file"><code class="docutils literal notranslate"><span class="pre">get_samples_from_file()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.sample_from_file.infer_key"><code class="docutils literal notranslate"><span class="pre">infer_key()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-posydon.popsyn.selection_effects">posydon.popsyn.selection_effects</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.selection_effects.KNNmodel"><code class="docutils literal notranslate"><span class="pre">KNNmodel</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-posydon.popsyn.star_formation_history">posydon.popsyn.star_formation_history</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.star_formation_history.Chruslinska21"><code class="docutils literal notranslate"><span class="pre">Chruslinska21</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.star_formation_history.Fujimoto24"><code class="docutils literal notranslate"><span class="pre">Fujimoto24</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.star_formation_history.IllustrisTNG"><code class="docutils literal notranslate"><span class="pre">IllustrisTNG</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.star_formation_history.MadauBase"><code class="docutils literal notranslate"><span class="pre">MadauBase</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.star_formation_history.MadauDickinson14"><code class="docutils literal notranslate"><span class="pre">MadauDickinson14</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.star_formation_history.MadauFragos17"><code class="docutils literal notranslate"><span class="pre">MadauFragos17</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.star_formation_history.Neijssel19"><code class="docutils literal notranslate"><span class="pre">Neijssel19</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.star_formation_history.SFHBase"><code class="docutils literal notranslate"><span class="pre">SFHBase</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.star_formation_history.SFR_per_met_at_z"><code class="docutils literal notranslate"><span class="pre">SFR_per_met_at_z()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.star_formation_history.Zavala21"><code class="docutils literal notranslate"><span class="pre">Zavala21</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.star_formation_history.get_SFH_model"><code class="docutils literal notranslate"><span class="pre">get_SFH_model()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.star_formation_history.get_formation_times"><code class="docutils literal notranslate"><span class="pre">get_formation_times()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-posydon.popsyn.synthetic_population">posydon.popsyn.synthetic_population</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#classes">Classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.synthetic_population.DFInterface"><code class="docutils literal notranslate"><span class="pre">DFInterface</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.synthetic_population.History"><code class="docutils literal notranslate"><span class="pre">History</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.synthetic_population.Oneline"><code class="docutils literal notranslate"><span class="pre">Oneline</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.synthetic_population.Population"><code class="docutils literal notranslate"><span class="pre">Population</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.synthetic_population.PopulationIO"><code class="docutils literal notranslate"><span class="pre">PopulationIO</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.synthetic_population.PopulationRunner"><code class="docutils literal notranslate"><span class="pre">PopulationRunner</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.synthetic_population.Rates"><code class="docutils literal notranslate"><span class="pre">Rates</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.synthetic_population.TransientPopulation"><code class="docutils literal notranslate"><span class="pre">TransientPopulation</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-posydon.popsyn.transient_select_funcs">posydon.popsyn.transient_select_funcs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.transient_select_funcs.BBH_selection_function"><code class="docutils literal notranslate"><span class="pre">BBH_selection_function()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.transient_select_funcs.DCO_detectability"><code class="docutils literal notranslate"><span class="pre">DCO_detectability()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.transient_select_funcs.GRB_selection"><code class="docutils literal notranslate"><span class="pre">GRB_selection()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.transient_select_funcs.chi_eff"><code class="docutils literal notranslate"><span class="pre">chi_eff()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.transient_select_funcs.m_chirp"><code class="docutils literal notranslate"><span class="pre">m_chirp()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#posydon.popsyn.transient_select_funcs.mass_ratio"><code class="docutils literal notranslate"><span class="pre">mass_ratio()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="posydon.user_modules.html">posydon.user_modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="posydon.utils.html">posydon.utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="posydon.visualization.html">posydon.visualization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="bin.html">executables</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Releases and Datasets</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/POSYDON-code/POSYDON/releases">Releases</a></li>
<li class="toctree-l1"><a class="reference external" href="https://zenodo.org/communities/posydon/">Datasets</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Support and Contact</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contact-support/contact-information.html">Contact Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting-faqs/installation-issues.html">Common Installation Issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting-faqs/code-questions.html">Code Usage Questions</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/POSYDON-code/POSYDON/issues/new/choose">Report an Issue</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/how-to-contribute.html">How To Contribute</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">posydon</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="posydon.html">posydon</a></li>
      <li class="breadcrumb-item active">posydon.popsyn</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api_reference/posydon.popsyn.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-posydon.popsyn">
<span id="posydon-popsyn"></span><h1>posydon.popsyn<a class="headerlink" href="#module-posydon.popsyn" title="Link to this heading"></a></h1>
<section id="module-posydon.popsyn.GRB">
<span id="posydon-popsyn-grb"></span><h2>posydon.popsyn.GRB<a class="headerlink" href="#module-posydon.popsyn.GRB" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.GRB.get_GRB_properties">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.GRB.</span></span><span class="sig-name descname"><span class="pre">get_GRB_properties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">GRB_efficiency</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">GRB_beaming</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">E_GRB_iso_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/GRB.html#get_GRB_properties"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.GRB.get_GRB_properties" title="Link to this definition"></a></dt>
<dd><p>Compute GRB properties for a given binary population.</p>
</dd></dl>

</section>
<section id="module-posydon.popsyn.analysis">
<span id="posydon-popsyn-analysis"></span><h2>posydon.popsyn.analysis<a class="headerlink" href="#module-posydon.popsyn.analysis" title="Link to this heading"></a></h2>
<p>Module for analyzing binary population simulation results.</p>
<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.analysis.get_subsets">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.analysis.</span></span><span class="sig-name descname"><span class="pre">get_subsets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">find_n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">select_oneline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">select_history</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">select_columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/analysis.html#get_subsets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.analysis.get_subsets" title="Link to this definition"></a></dt>
<dd><p>Get the <cite>oneline</cite> and <cite>history</cite> subsets for a selection of binaries.</p>
<p>You select binaries from an HDF5 population by providing a function that
operates either on <cite>oneline</cite> or <cite>history</cite> and returns a boolean mask in-
dicating which rows correspond to the binaries of interest. E.g.,</p>
<blockquote>
<div><dl class="simple">
<dt>def find_no_end(df):</dt><dd><p>return df[“event_f”] != “END”</p>
</dd>
</dl>
</div></blockquote>
<p>can be used to find binaries that ended abruptly, based on the information
in the <cite>oneline</cite> table. Therefore, we set <cite>select_oneline=find_no_end</cite>. If
no selector has been set, all binaries are selected (combine this with the
<cite>select_columns</cite> argument to get a column subset of the data.)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The fullpath of the HDF5 file.</p></li>
<li><p><strong>find_n</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em> or </em><em>None</em>) – The number of binaries to select (at most) or None to select all.</p></li>
<li><p><strong>select_oneline</strong> (<em>function</em><em> or </em><em>None</em>) – The function to operate on chunks of the <cite>oneline</cite> table.</p></li>
<li><p><strong>select_history</strong> (<em>function</em><em> or </em><em>None</em>) – The function to operate on chunks of the <cite>oneline</cite> table.</p></li>
<li><p><strong>select_columns</strong> (<em>None</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><em>array</em>) – If None, all columns will be returned. If a string, only those columns
with name containing this string will be returned. An array of strings
can be used for multiple such patterns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The subsets of the dataframes with the data for the selected binaries.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>oneline, history</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.analysis.report_columns">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.analysis.</span></span><span class="sig-name descname"><span class="pre">report_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/analysis.html#report_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.analysis.report_columns" title="Link to this definition"></a></dt>
<dd><p>Print the columns in the <cite>oneline</cite> and <cite>history</cite> keys in an HDF5 file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The fullpath of the HDF5 file.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-posydon.popsyn.binarypopulation">
<span id="posydon-popsyn-binarypopulation"></span><h2>posydon.popsyn.binarypopulation<a class="headerlink" href="#module-posydon.popsyn.binarypopulation" title="Link to this heading"></a></h2>
<p>Create, evolve and save a binary star population.</p>
<p>Large populations are RAM limited when holding an arbitrary
number of BinaryStar instances. Therefore, by default the BinaryPopulation
will generate binaries, evolve, and try to save them to disk one at a time.</p>
<p>Create a BinaryPopulation instance from an inifile:
I. CREATING A POPULATION
————————
a) One-liner for creating a BinaryPopulation from an inifile:</p>
<p>&gt; BinaryPopulation.from_ini(‘&lt;PATH_TO_POSYDON&gt;’             ‘/posydon/popsyn/population_params_default.ini’)</p>
<dl class="py class">
<dt class="sig sig-object py" id="posydon.popsyn.binarypopulation.BinaryGenerator">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">posydon.popsyn.binarypopulation.</span></span><span class="sig-name descname"><span class="pre">BinaryGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sampler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">generate_independent_samples</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">RNG</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/binarypopulation.html#BinaryGenerator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.binarypopulation.BinaryGenerator" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Generate binaries to be included in a BinaryPopulation.</p>
<p>Initialize the BinaryGenerator instance.</p>
<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.binarypopulation.BinaryGenerator.draw_initial_binary">
<span class="sig-name descname"><span class="pre">draw_initial_binary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/binarypopulation.html#BinaryGenerator.draw_initial_binary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.binarypopulation.BinaryGenerator.draw_initial_binary" title="Link to this definition"></a></dt>
<dd><p>Return a binary for evolution in a population.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – Sets binary index. Defaults to number of generated binaries.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>binary</strong></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="posydon.binary_evol.html#posydon.binary_evol.binarystar.BinaryStar" title="posydon.binary_evol.binarystar.BinaryStar">BinaryStar</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.binarypopulation.BinaryGenerator.draw_initial_samples">
<span class="sig-name descname"><span class="pre">draw_initial_samples</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">orbital_scheme</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'separation'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/binarypopulation.html#BinaryGenerator.draw_initial_samples"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.binarypopulation.BinaryGenerator.draw_initial_samples" title="Link to this definition"></a></dt>
<dd><p>Generate all random varibles.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.binarypopulation.BinaryGenerator.get_binary_by_iter">
<span class="sig-name descname"><span class="pre">get_binary_by_iter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/binarypopulation.html#BinaryGenerator.get_binary_by_iter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.binarypopulation.BinaryGenerator.get_binary_by_iter" title="Link to this definition"></a></dt>
<dd><p>Get the nth binary as if n calls were made to draw_intial_binary.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.binarypopulation.BinaryGenerator.get_original_rng">
<span class="sig-name descname"><span class="pre">get_original_rng</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/binarypopulation.html#BinaryGenerator.get_original_rng"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.binarypopulation.BinaryGenerator.get_original_rng" title="Link to this definition"></a></dt>
<dd><p>Return the random-number generator.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.binarypopulation.BinaryGenerator.reset_rng">
<span class="sig-name descname"><span class="pre">reset_rng</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/binarypopulation.html#BinaryGenerator.reset_rng"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.binarypopulation.BinaryGenerator.reset_rng" title="Link to this definition"></a></dt>
<dd><p>Reset the RNG with the stored entropy.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="posydon.popsyn.binarypopulation.BinaryPopulation">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">posydon.popsyn.binarypopulation.</span></span><span class="sig-name descname"><span class="pre">BinaryPopulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/binarypopulation.html#BinaryPopulation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.binarypopulation.BinaryPopulation" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Handle a binary star population.</p>
<p>Initialize the binary population object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>number_of_binaries</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – Size of the population</p></li>
<li><p><strong>population_properties</strong> (<a class="reference internal" href="posydon.binary_evol.html#posydon.binary_evol.simulationproperties.SimulationProperties" title="posydon.binary_evol.simulationproperties.SimulationProperties"><em>SimulationProperties</em></a>) – Instance of simulationproperties holding steps.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.binarypopulation.BinaryPopulation.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/binarypopulation.html#BinaryPopulation.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.binarypopulation.BinaryPopulation.close" title="Link to this definition"></a></dt>
<dd><p>Close loaded h5 files from SimulationProperties.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.binarypopulation.BinaryPopulation.combine_saved_files">
<span class="sig-name descname"><span class="pre">combine_saved_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">absolute_filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_names</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/binarypopulation.html#BinaryPopulation.combine_saved_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.binarypopulation.BinaryPopulation.combine_saved_files" title="Link to this definition"></a></dt>
<dd><p>Combine various temporary files in a given folder.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>absolute_filepath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – Absolute path to the file to be saved.</p></li>
<li><p><strong>file_names</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a>) – List of absolute paths to the temporary files.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.binarypopulation.BinaryPopulation.evolve">
<span class="sig-name descname"><span class="pre">evolve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/binarypopulation.html#BinaryPopulation.evolve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.binarypopulation.BinaryPopulation.evolve" title="Link to this definition"></a></dt>
<dd><p>Evolve a binary population.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>indices</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>, </em><em>optional</em>) – Custom binary indices to use. Default is range(number_of_binaries).
If running with MPI, indices are split between processes if given.</p></li>
<li><p><strong>breakdown_to_df</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>True</em>) – Breakdown a binary after evolution, converting to dataframe and
removing the binary instance from memory.</p></li>
<li><p><strong>tqdm</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>False</em>) – Show tqdm progress bar during evolution.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.binarypopulation.BinaryPopulation.from_ini">
<em class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_ini</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/binarypopulation.html#BinaryPopulation.from_ini"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.binarypopulation.BinaryPopulation.from_ini" title="Link to this definition"></a></dt>
<dd><p>Create a BinaryPopulation instance from an inifile.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – Path to an inifile to load in.</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – Print useful info.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new instance of a BinaryPopulation.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#posydon.popsyn.binarypopulation.BinaryPopulation" title="posydon.popsyn.binarypopulation.BinaryPopulation">BinaryPopulation</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.binarypopulation.BinaryPopulation.make_temp_fname">
<span class="sig-name descname"><span class="pre">make_temp_fname</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/binarypopulation.html#BinaryPopulation.make_temp_fname"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.binarypopulation.BinaryPopulation.make_temp_fname" title="Link to this definition"></a></dt>
<dd><p>Get a valid filename for the temporary file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.binarypopulation.BinaryPopulation.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">save_path</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/binarypopulation.html#BinaryPopulation.save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.binarypopulation.BinaryPopulation.save" title="Link to this definition"></a></dt>
<dd><p>Save BinaryPopulation to hdf file.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="posydon.popsyn.binarypopulation.PopulationManager">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">posydon.popsyn.binarypopulation.</span></span><span class="sig-name descname"><span class="pre">PopulationManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/binarypopulation.html#PopulationManager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.binarypopulation.PopulationManager" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Manage a population of binaries.</p>
<p>Initialize a PopulationManager instance.</p>
<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.binarypopulation.PopulationManager.append">
<span class="sig-name descname"><span class="pre">append</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">binary</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/binarypopulation.html#PopulationManager.append"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.binarypopulation.PopulationManager.append" title="Link to this definition"></a></dt>
<dd><p>Add a binary instance internaly.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.binarypopulation.PopulationManager.breakdown_to_df">
<span class="sig-name descname"><span class="pre">breakdown_to_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">binary</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/binarypopulation.html#PopulationManager.breakdown_to_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.binarypopulation.PopulationManager.breakdown_to_df" title="Link to this definition"></a></dt>
<dd><p>Breakdown to a pandas DataFrame.</p>
<p>Breakdown a binary into more convenient data type, store it, and
remove the BinaryStar instance from self.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.binarypopulation.PopulationManager.clear_dfs">
<span class="sig-name descname"><span class="pre">clear_dfs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/binarypopulation.html#PopulationManager.clear_dfs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.binarypopulation.PopulationManager.clear_dfs" title="Link to this definition"></a></dt>
<dd><p>Remove all dfs.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.binarypopulation.PopulationManager.find_failed">
<span class="sig-name descname"><span class="pre">find_failed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/binarypopulation.html#PopulationManager.find_failed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.binarypopulation.PopulationManager.find_failed" title="Link to this definition"></a></dt>
<dd><p>Find any failed binaries in the population.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.binarypopulation.PopulationManager.from_hdf">
<span class="sig-name descname"><span class="pre">from_hdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">where</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">restore</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/binarypopulation.html#PopulationManager.from_hdf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.binarypopulation.PopulationManager.from_hdf" title="Link to this definition"></a></dt>
<dd><p>Load a BinaryStar instance from an hdf file of a saved population.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>indices</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a>) – Selects the binaries to load.</p></li>
<li><p><strong>where</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – Query performed on disk to select history and oneline DataFrames.</p></li>
<li><p><strong>restore</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – If true, restore binaries back to initial conditions.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.binarypopulation.PopulationManager.generate">
<span class="sig-name descname"><span class="pre">generate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/binarypopulation.html#PopulationManager.generate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.binarypopulation.PopulationManager.generate" title="Link to this definition"></a></dt>
<dd><p>Generate a binary by drawing from the binary_generator.</p>
<p>This can be a callable or a generator.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.binarypopulation.PopulationManager.remove">
<span class="sig-name descname"><span class="pre">remove</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">binary</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/binarypopulation.html#PopulationManager.remove"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.binarypopulation.PopulationManager.remove" title="Link to this definition"></a></dt>
<dd><p>Remove a binary instance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.binarypopulation.PopulationManager.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/binarypopulation.html#PopulationManager.save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.binarypopulation.PopulationManager.save" title="Link to this definition"></a></dt>
<dd><p>Save binaries to an hdf file using pandas HDFStore.</p>
<p>Any object dtype columns not parsed by infer_objects() is converted to
a string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – Name of hdf file saved.</p></li>
<li><p><strong>mode</strong> (<em>{'a'</em><em>, </em><em>'w'</em><em>, </em><em>'r'</em><em>, </em><em>'r+'}</em><em>, </em><em>default 'a'</em>) – See pandas HDFStore docs</p></li>
<li><p><strong>complib</strong> (<em>{'zlib'</em><em>, </em><em>'lzo'</em><em>, </em><em>'bzip2'</em><em>, </em><em>'blosc'}</em><em>, </em><em>default 'zlib'</em>) – Compression library. See HDFStore docs</p></li>
<li><p><strong>complevel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>0-9</em><em>, </em><em>default 9</em>) – Level of compression. See HDFStore docs</p></li>
<li><p><strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – Arguments for <cite>BinaryStar</cite> methods <cite>to_df</cite> and <cite>to_oneline_df</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.binarypopulation.PopulationManager.to_df">
<span class="sig-name descname"><span class="pre">to_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">selection_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/binarypopulation.html#PopulationManager.to_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.binarypopulation.PopulationManager.to_df" title="Link to this definition"></a></dt>
<dd><p>Convert all binaries to dataframe.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.binarypopulation.PopulationManager.to_oneline_df">
<span class="sig-name descname"><span class="pre">to_oneline_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">selection_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/binarypopulation.html#PopulationManager.to_oneline_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.binarypopulation.PopulationManager.to_oneline_df" title="Link to this definition"></a></dt>
<dd><p>Convert all binaries to oneline dataframe.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-posydon.popsyn.defaults">
<span id="posydon-popsyn-defaults"></span><h2>posydon.popsyn.defaults<a class="headerlink" href="#module-posydon.popsyn.defaults" title="Link to this heading"></a></h2>
<p>Default binary population parameters.</p>
</section>
<section id="module-posydon.popsyn.independent_sample">
<span id="posydon-popsyn-independent-sample"></span><h2>posydon.popsyn.independent_sample<a class="headerlink" href="#module-posydon.popsyn.independent_sample" title="Link to this heading"></a></h2>
<p>Generate the initial parameters for a binary population.</p>
<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.independent_sample.binary_fraction_value">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.independent_sample.</span></span><span class="sig-name descname"><span class="pre">binary_fraction_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">binary_fraction_const</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">binary_fraction_scheme</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'const'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">m1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/independent_sample.html#binary_fraction_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.independent_sample.binary_fraction_value" title="Link to this definition"></a></dt>
<dd><p>Getting the binary fraction depending on the scheme. The two possible option are a constant binary fraction
and a binary fraction based on the values given in Moe and Di Stefano (2017).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.independent_sample.generate_eccentricities">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.independent_sample.</span></span><span class="sig-name descname"><span class="pre">generate_eccentricities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number_of_binaries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eccentricity_scheme</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'thermal'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/independent_sample.html#generate_eccentricities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.independent_sample.generate_eccentricities" title="Link to this definition"></a></dt>
<dd><p>Generate random eccentricities.</p>
<p>Use the scheme defined in this particular instance of BinaryPopulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>number_of_binaries</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – Number of binaries that require randomly sampled orbital separations</p></li>
<li><p><strong>eccentricity_scheme</strong> (<em>string</em>) – Distribution from which eccentricities are randomly drawn</p></li>
<li><p><strong>**kwargs</strong> (<em>dictionary</em>) – kwargs from BinaryPopulation class</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>eccentricities</strong> – Randomly drawn eccentricities</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray of floats</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.independent_sample.generate_independent_samples">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.independent_sample.</span></span><span class="sig-name descname"><span class="pre">generate_independent_samples</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">orbital_scheme</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'period'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/independent_sample.html#generate_independent_samples"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.independent_sample.generate_independent_samples" title="Link to this definition"></a></dt>
<dd><p>Randomly generate a population of binaries at ZAMS.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>orbital_scheme</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> (</em><em>default: 'period'</em><em>)</em>) – The scheme to use to get either orbital periods or separations</p></li>
<li><p><strong>**kwargs</strong> (<em>dictionary</em>) – kwargs from BinaryPopulation class</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>orbital_scheme_set</strong> (<em>ndarray of floats</em>) – Randomly drawn orbital separations/periods depending on the scheme</p></li>
<li><p><strong>eccentricity_set</strong> (<em>ndarray of floats</em>) – Randomly drawn eccentricities</p></li>
<li><p><strong>m1_set</strong> (<em>ndarray of floats</em>) – Randomly drawn primary masses</p></li>
<li><p><strong>m2_set</strong> (<em>ndarray of floats</em>) – Randomly drawn secondary masses</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.independent_sample.generate_orbital_periods">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.independent_sample.</span></span><span class="sig-name descname"><span class="pre">generate_orbital_periods</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">primary_masses</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_binaries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orbital_period_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.35</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orbital_period_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10**3.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orbital_period_scheme</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Sana+12_period_extended'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/independent_sample.html#generate_orbital_periods"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.independent_sample.generate_orbital_periods" title="Link to this definition"></a></dt>
<dd><p>Randomaly generate orbital periods for a sample of binaries.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.independent_sample.generate_orbital_separations">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.independent_sample.</span></span><span class="sig-name descname"><span class="pre">generate_orbital_separations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number_of_binaries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orbital_separation_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orbital_separation_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_orbital_separation_mean</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_orbital_separation_sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orbital_separation_scheme</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'log_uniform'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/independent_sample.html#generate_orbital_separations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.independent_sample.generate_orbital_separations" title="Link to this definition"></a></dt>
<dd><p>Generate random orbital separations.</p>
<p>Use the scheme defined in this particular instance of BinaryPopulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>number_of_binaries</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – Number of binaries that require randomly sampled orbital separations</p></li>
<li><p><strong>orbital_separation_min</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – Minimum orbital separation in solar radii</p></li>
<li><p><strong>orbital_separation_max</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – Maximum orbital separation in solar radii</p></li>
<li><p><strong>log_orbital_separation_mean</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – Mean of the lognormal distribution.</p></li>
<li><p><strong>log_orbital_separation_sigma</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – Standard deviation of the lorgnormal distribution.</p></li>
<li><p><strong>orbital_separation_scheme</strong> (<em>string</em>) – Distribution from which the orbital separations are randomly drawn</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>orbital_separations</strong> – Randomly drawn orbital separations</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray of floats</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.independent_sample.generate_primary_masses">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.independent_sample.</span></span><span class="sig-name descname"><span class="pre">generate_primary_masses</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number_of_binaries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">primary_mass_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">primary_mass_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">120</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">primary_mass_scheme</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Salpeter'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/independent_sample.html#generate_primary_masses"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.independent_sample.generate_primary_masses" title="Link to this definition"></a></dt>
<dd><p>Generate random primary masses.</p>
<p>Use the scheme defined in this particular instance of BinaryPopulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>number_of_binaries</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – Number of binaries that require randomly sampled orbital separations</p></li>
<li><p><strong>primary_mass_min</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – Minimum primary mass</p></li>
<li><p><strong>primary_mass_max</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – Maximum primary mass</p></li>
<li><p><strong>primary_mass_scheme</strong> (<em>string</em>) – Distribution from which the primary masses are randomly drawn</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>primary_masses</strong> – Randomly drawn primary masses</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray of floats</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.independent_sample.generate_secondary_masses">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.independent_sample.</span></span><span class="sig-name descname"><span class="pre">generate_secondary_masses</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">primary_masses</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_binaries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secondary_mass_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.35</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secondary_mass_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">120</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secondary_mass_scheme</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'flat_mass_ratio'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/independent_sample.html#generate_secondary_masses"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.independent_sample.generate_secondary_masses" title="Link to this definition"></a></dt>
<dd><p>Generate random secondary masses.</p>
<p>Use the scheme defined in this particular instance of BinaryPopulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>primary_masses</strong> (<em>ndarray</em><em> of </em><em>floats</em>) – Previously drawn primary masses</p></li>
<li><p><strong>number_of_binaries</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – Number of binaries that require randomly sampled orbital separations</p></li>
<li><p><strong>secondary_mass_min</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – Minimum secondary mass</p></li>
<li><p><strong>secondary_mass_max</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – Maximum secondary mass</p></li>
<li><p><strong>secondary_mass_scheme</strong> (<em>string</em>) – Distribution from which the secondary masses are randomly drawn</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>secondary_masses</strong> – Randomly drawn secondary masses</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray of floats</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-posydon.popsyn.io">
<span id="posydon-popsyn-io"></span><h2>posydon.popsyn.io<a class="headerlink" href="#module-posydon.popsyn.io" title="Link to this heading"></a></h2>
<p>Handle I/O operations for the population synthesis code.</p>
<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.io.binarypop_kwargs_from_ini">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.io.</span></span><span class="sig-name descname"><span class="pre">binarypop_kwargs_from_ini</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/io.html#binarypop_kwargs_from_ini"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.io.binarypop_kwargs_from_ini" title="Link to this definition"></a></dt>
<dd><p>Convert an inifile into kwargs for the BinaryPopulation class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><em>list like</em>) – Path to inifile. If multiple files are given,
duplicate args are overwritten (stacked) first
to last.</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – Print helpful info.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>parser_dict</strong> – The inifile converted to the kwargs.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>&lt;class, dict&gt;</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.io.clean_binary_history_df">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.io.</span></span><span class="sig-name descname"><span class="pre">clean_binary_history_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">binary_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_binary_dtypes_user</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_S1_dtypes_user</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_S2_dtypes_user</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/io.html#clean_binary_history_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.io.clean_binary_history_df" title="Link to this definition"></a></dt>
<dd><p>Take a posydon binary history DataFrame from the
BinaryStar.to_df method and clean the data for saving
by setting Data Types of the columns explicitly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>binary_df</strong> (<em>DataFrame</em>) – A pandas Dataframe containing binary history</p></li>
<li><p><strong>extra_binary_dtypes_user</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em>, </em><em>optional</em>) – A dictionary with extra column names as keys, and their
associated data types as values.</p></li>
<li><p><strong>extra_S1_dtypes_user</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em>, </em><em>optional</em>) – Same as above, but only for star 1.</p></li>
<li><p><strong>extra_S2_dtypes_user</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em>, </em><em>optional</em>) – Same as above, but only for star 2.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>binary_df</strong> – A cleaned binary history ready for saving to HDF.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.io.clean_binary_oneline_df">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.io.</span></span><span class="sig-name descname"><span class="pre">clean_binary_oneline_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oneline_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_binary_dtypes_user</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_S1_dtypes_user</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_S2_dtypes_user</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/io.html#clean_binary_oneline_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.io.clean_binary_oneline_df" title="Link to this definition"></a></dt>
<dd><p>Take a posydon binary oneline DataFrame from the
BinaryStar.to_oneline_df method and clean the data for saving
by setting Data Types of the columns explicitly.</p>
<p>This method is similar to clean_binary_history_df since they
have many overalapping columns, with a few extras and different naming.</p>
<p>Note: there may be edge cases not handed if new scalar_names are added.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>binary_df</strong> (<em>DataFrame</em>) – A pandas Dataframe containing binary history</p></li>
<li><p><strong>extra_binary_dtypes_user</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em>, </em><em>optional</em>) – A dictionary with extra column names as keys, and their
associated data types as values.</p></li>
<li><p><strong>extra_S1_dtypes_user</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em>, </em><em>optional</em>) – Same as above, but only for star 1.</p></li>
<li><p><strong>extra_S2_dtypes_user</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em>, </em><em>optional</em>) – Same as above, but only for star 2.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>binary_df</strong> – A cleaned binary history ready for saving to HDF.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.io.create_merge_script_text">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.io.</span></span><span class="sig-name descname"><span class="pre">create_merge_script_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ini_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/io.html#create_merge_script_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.io.create_merge_script_text" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.io.create_run_script_text">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.io.</span></span><span class="sig-name descname"><span class="pre">create_run_script_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ini_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/io.html#create_run_script_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.io.create_run_script_text" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.io.parse_inifile">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.io.</span></span><span class="sig-name descname"><span class="pre">parse_inifile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/io.html#parse_inifile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.io.parse_inifile" title="Link to this definition"></a></dt>
<dd><p>Parse an inifile for evolving binary populations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><em>list like</em>) – Path to inifile. If multiple files are given,
duplicate args are overwritten (stacked) first
to last.</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – Print helpful info.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>parser</strong> – An instance of ConfigParser.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>&lt;class, ConfigParser&gt;</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.io.simprop_kwargs_from_ini">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.io.</span></span><span class="sig-name descname"><span class="pre">simprop_kwargs_from_ini</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/io.html#simprop_kwargs_from_ini"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.io.simprop_kwargs_from_ini" title="Link to this definition"></a></dt>
<dd><p>Convert an inifile into kwargs for the SimulationProperties class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em> or </em><em>list like</em>) – Path to inifile. If multiple files are given,
duplicate args are overwritten (stacked) first
to last.</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – Print helpful info.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>parser_dict</strong> – The inifile converted to the kwargs.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>&lt;class, dict&gt;</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-posydon.popsyn.normalized_pop_mass">
<span id="posydon-popsyn-normalized-pop-mass"></span><h2>posydon.popsyn.normalized_pop_mass<a class="headerlink" href="#module-posydon.popsyn.normalized_pop_mass" title="Link to this heading"></a></h2>
<p>Compute the underlying stellar population mass for a given simulation.</p>
<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.normalized_pop_mass.initial_total_underlying_mass">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.normalized_pop_mass.</span></span><span class="sig-name descname"><span class="pre">initial_total_underlying_mass</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">simulated_mass</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulated_mass_single</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simulated_mass_binaries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f_bin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.7</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/normalized_pop_mass.html#initial_total_underlying_mass"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.normalized_pop_mass.initial_total_underlying_mass" title="Link to this definition"></a></dt>
<dd><p>Compute the initial total mass of the population.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>simulated_mass, simulated_mass_single, simulated_mass_binaries</strong><span class="classifier">float</span></dt><dd><p>Total simulated mass, simulated mass of binary systems and simulated
mass of single stars, respectively.</p>
</dd>
<dt><strong>f_bin: float</strong></dt><dd><blockquote>
<div><p>The binary fraction of your population in “nature”.
If not provided, the default value is set to 0.7</p>
</div></blockquote>
<dl class="simple">
<dt>primary_mass_min: float</dt><dd><p>minimum initial mass of the primary star</p>
</dd>
<dt>primary_mass_max: float</dt><dd><p>maximum initial mass of the primary star</p>
</dd>
<dt>binary_fraction_const: float</dt><dd><p>Binary fraction used in the simulations</p>
</dd>
<dt>primary_mass_scheme: string</dt><dd><p>Kroupa2001 or Salpeter options</p>
</dd>
<dt>secondary_mass_scheme: string</dt><dd><p>mass ratio distribution</p>
</dd>
</dl>
</dd>
<dt><strong>———-</strong></dt><dd></dd>
<dt><strong>:returns: * **underlying_total_mass</strong> (<em>float</em>) – The underlying total mass of the population: float**</dt><dd><ul class="simple">
<li><p><em>f_corr_single_stars, f_corr_binaries; float</em> – Correction factors for singles and binaries, respectively.</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-posydon.popsyn.rate_calculation">
<span id="posydon-popsyn-rate-calculation"></span><h2>posydon.popsyn.rate_calculation<a class="headerlink" href="#module-posydon.popsyn.rate_calculation" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.rate_calculation.get_comoving_distance_from_redshift">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.rate_calculation.</span></span><span class="sig-name descname"><span class="pre">get_comoving_distance_from_redshift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/rate_calculation.html#get_comoving_distance_from_redshift"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.rate_calculation.get_comoving_distance_from_redshift" title="Link to this definition"></a></dt>
<dd><p>Compute the comoving distance from redshift.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>z</strong> (<em>double</em>) – Cosmological redshift.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Comoving distance in Mpc corresponding to the redhisft z.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>double</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.rate_calculation.get_cosmic_time_from_redshift">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.rate_calculation.</span></span><span class="sig-name descname"><span class="pre">get_cosmic_time_from_redshift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/rate_calculation.html#get_cosmic_time_from_redshift"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.rate_calculation.get_cosmic_time_from_redshift" title="Link to this definition"></a></dt>
<dd><p>Compute the cosmic time from redshift.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>z</strong> (<em>double</em>) – Cosmological redshift.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Return age of the cosmic time in Gyr given the redshift z.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>double</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.rate_calculation.get_redshift_bin_centers">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.rate_calculation.</span></span><span class="sig-name descname"><span class="pre">get_redshift_bin_centers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delta_t</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/rate_calculation.html#get_redshift_bin_centers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.rate_calculation.get_redshift_bin_centers" title="Link to this definition"></a></dt>
<dd><p>Compute the redshift bin centers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>delta_t</strong> (<em>double</em>) – Time interval in Myr.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Redshift bin centers.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>array doubles</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.rate_calculation.get_redshift_bin_edges">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.rate_calculation.</span></span><span class="sig-name descname"><span class="pre">get_redshift_bin_edges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delta_t</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/rate_calculation.html#get_redshift_bin_edges"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.rate_calculation.get_redshift_bin_edges" title="Link to this definition"></a></dt>
<dd><p>Compute the redshift bin edges.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>delta_t</strong> (<em>double</em>) – Time interval in Myr.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Redshift bin edges.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>array doubles</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.rate_calculation.get_redshift_from_cosmic_time">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.rate_calculation.</span></span><span class="sig-name descname"><span class="pre">get_redshift_from_cosmic_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t_cosm</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/rate_calculation.html#get_redshift_from_cosmic_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.rate_calculation.get_redshift_from_cosmic_time" title="Link to this definition"></a></dt>
<dd><p>Compute the cosmological redshift given the cosmic time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>t_cosm</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><em>ndarray</em><em> of </em><em>floats</em>) – Cosmic time(s) for which you want to know the redhisft.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Cosmolgocial redshift(s) corresponding to t_cosm.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray of floats</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>The function uses the interpolator redshift_from_cosmic_time_interpolator,</p></li>
</ul>
<p>which is created each time the function is called. <cite>z_at_value</cite> from astropy
can be used for single values, but it is too slow for arrays.</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.rate_calculation.get_shell_comoving_volume">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.rate_calculation.</span></span><span class="sig-name descname"><span class="pre">get_shell_comoving_volume</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z_hor_i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_hor_f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sensitivity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'infinite'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/rate_calculation.html#get_shell_comoving_volume"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.rate_calculation.get_shell_comoving_volume" title="Link to this definition"></a></dt>
<dd><p>Compute comoving volume corresponding to a redshift shell.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>z_hor_i</strong> (<em>double</em>) – Cosmological redshift. Lower bound of the integration.</p></li>
<li><p><strong>z_hor_f</strong> (<em>double</em>) – Cosmological redshift. Upper bound of the integration.</p></li>
<li><p><strong>sensitivity</strong> (<em>string</em>) – hoose which GW detector sensitivity you want to use. At the moment
only ‘infinite’ is available, i.e. p_det = 1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Retruns the comoving volume between the two shells z_hor_i
and z_hor_f in Gpc^3.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>double</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.rate_calculation.redshift_from_cosmic_time_interpolator">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.rate_calculation.</span></span><span class="sig-name descname"><span class="pre">redshift_from_cosmic_time_interpolator</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/rate_calculation.html#redshift_from_cosmic_time_interpolator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.rate_calculation.redshift_from_cosmic_time_interpolator" title="Link to this definition"></a></dt>
<dd><p>Interpolator to compute the cosmological redshift given the cosmic time.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Returns the trained SciPy CubicSpline interpolator object.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>CubicSpline object</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-posydon.popsyn.sample_from_file">
<span id="posydon-popsyn-sample-from-file"></span><h2>posydon.popsyn.sample_from_file<a class="headerlink" href="#module-posydon.popsyn.sample_from_file" title="Link to this heading"></a></h2>
<p>Get the initial parameters for a binary population.</p>
<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.sample_from_file.get_kick_samples_from_file">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.sample_from_file.</span></span><span class="sig-name descname"><span class="pre">get_kick_samples_from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/sample_from_file.html#get_kick_samples_from_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.sample_from_file.get_kick_samples_from_file" title="Link to this definition"></a></dt>
<dd><p>Read a kicks for population of binaries from a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**kwargs</strong> (<em>dictionary</em>) – kwargs from BinaryPopulation class, which should contain
read_samples_from_file</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>s1_natal_kick_array_set</strong> (<em>ndarray of floats</em>) – natal kick array for the primary star
containing: kick velocity, azimuthal angle, polar angle, mean anomaly</p></li>
<li><p><strong>s2_natal_kick_array_set</strong> (<em>ndarray of floats</em>) – natal kick array for the secondary star
containing: kick velocity, azimuthal angle, polar angle, mean anomaly</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.sample_from_file.get_samples_from_file">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.sample_from_file.</span></span><span class="sig-name descname"><span class="pre">get_samples_from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">orbital_scheme</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/sample_from_file.html#get_samples_from_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.sample_from_file.get_samples_from_file" title="Link to this definition"></a></dt>
<dd><p>Read a population of binaries at ZAMS from a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>orbital_scheme</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – Scheme to get the orbit: ‘separation’, ‘period’</p></li>
<li><p><strong>**kwargs</strong> (<em>dictionary</em>) – kwargs from BinaryPopulation class, which should contain
read_samples_from_file</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>orbital_scheme_set</strong> (<em>ndarray of floats</em>) – orbital separations/periods depending on the scheme</p></li>
<li><p><strong>eccentricity_set</strong> (<em>ndarray of floats</em>) – eccentricities</p></li>
<li><p><strong>m1_set</strong> (<em>ndarray of floats</em>) – primary masses</p></li>
<li><p><strong>m2_set</strong> (<em>ndarray of floats</em>) – secondary masses</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.sample_from_file.infer_key">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.sample_from_file.</span></span><span class="sig-name descname"><span class="pre">infer_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">available_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allowed_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/sample_from_file.html#infer_key"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.sample_from_file.infer_key" title="Link to this definition"></a></dt>
<dd><p>Infer key from list of allowed keys.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>available_keys</strong> (<em>iterable object</em><em> of </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>e.g. list</em><em> of </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – Collection of available keys.</p></li>
<li><p><strong>allowed_keys</strong> (<em>iterable object</em><em> of </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>e.g. list</em><em> of </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – Collection of allowed keys.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>key</strong> – The first matched key.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-posydon.popsyn.selection_effects">
<span id="posydon-popsyn-selection-effects"></span><h2>posydon.popsyn.selection_effects<a class="headerlink" href="#module-posydon.popsyn.selection_effects" title="Link to this heading"></a></h2>
<p>Simple utility for generating detection weights</p>
<p>Uses grid of detection probabilities to estimate detection probabilities</p>
<p>Anticipates data as Pandas dataframe with series [‘m1’, ‘q’, ‘z’, ‘chieff’]</p>
<dl class="py class">
<dt class="sig sig-object py" id="posydon.popsyn.selection_effects.KNNmodel">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">posydon.popsyn.selection_effects.</span></span><span class="sig-name descname"><span class="pre">KNNmodel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sensitivity_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/selection_effects.html#KNNmodel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.selection_effects.KNNmodel" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>K-nearest neighbor model that instantiates based on detection probability grid</p>
<p>When instantiating, must supply path to the grid, and key that represents
GW network and sensitivity.</p>
<p>Instantiates KNNmodel class and trains the KNN.</p>
<dl>
<dt>grid_path<span class="classifier">string</span></dt><dd><p>Path to grid of detection probabilities.</p>
</dd>
<dt>sensitivity_key<span class="classifier">string</span></dt><dd><dl>
<dt>GW detector sensitivity and network configuration you want to use,</dt><dd><p>see arXiv:1304.0670v3</p>
</dd>
<dt>detector sensitivities are taken from: <a class="reference external" href="https://dcc.ligo.org/LIGO-T2000012-v2/public">https://dcc.ligo.org/LIGO-T2000012-v2/public</a></dt><dd><dl class="simple">
<dt>available sensitivity keys (for Hanford, Livingston, Virgo network):</dt><dd><p>‘O3actual_H1L1V1’ : aligo_O3actual_H1.txt, aligo_O3actual_L1.txt, avirgo_O3actual.txt
‘O4low_H1L1V1’ : aligo_O4low.txt, aligo_O4low.txt, avirgo_O4high_NEW.txt
‘O4high_H1L1V1’ : aligo_O4high.txt, aligo_O4high.txt, avirgo_O4high_NEW.txt
‘design_H1L1V1’ : AplusDesign.txt, AplusDesign.txt, avirgo_O5high_NEW.txt</p>
</dd>
</dl>
<p>detection probabilities are calculated using the IMRPhenomXHM approximant with a network SNR threshold of 10</p>
</dd>
</dl>
</dd>
<dt>verbose<span class="classifier">boolean</span></dt><dd><p>Adds verbosity.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.selection_effects.KNNmodel.normalize">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">normalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/selection_effects.html#KNNmodel.normalize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.selection_effects.KNNmodel.normalize" title="Link to this definition"></a></dt>
<dd><p>normalizes data on range [a,b]</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.selection_effects.KNNmodel.predict_pdet">
<span class="sig-name descname"><span class="pre">predict_pdet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/selection_effects.html#KNNmodel.predict_pdet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.selection_effects.KNNmodel.predict_pdet" title="Link to this definition"></a></dt>
<dd><p>Gives relative weight to each system in <cite>data</cite> based on its proximity to the points on the grid.
Each system in <cite>data</cite> should have a primary mass <cite>m1</cite>, mass ratio <cite>q</cite>, redshift <cite>z</cite>, and effective spin <cite>chieff</cite>
This function will determine detection probabilities using nearest neighbor algorithm in [log(m1), q, log(z), chieff] space
Need to specify bounds (based on the trained grid) so that the grid and data get normalized properly</p>
<dl>
<dt>data<span class="classifier">Pandas dataframe</span></dt><dd><p>Data you wish to predict detection probabilities for.
Required series in the dataframe:</p>
<blockquote>
<div><p>‘m1’ : primary source-frame mass
‘q’ : mass ratio (secondary mass/primary mass)
‘z’ : redshift of merger
‘chieff’ : effective inspiral spin</p>
</div></blockquote>
</dd>
<dt>verbose<span class="classifier">boolean</span></dt><dd><p>Adds verbosity.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-posydon.popsyn.star_formation_history">
<span id="posydon-popsyn-star-formation-history"></span><h2>posydon.popsyn.star_formation_history<a class="headerlink" href="#module-posydon.popsyn.star_formation_history" title="Link to this heading"></a></h2>
<p>Implements the selection of different star-formation history scenarios.</p>
<dl class="py class">
<dt class="sig sig-object py" id="posydon.popsyn.star_formation_history.Chruslinska21">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">posydon.popsyn.star_formation_history.</span></span><span class="sig-name descname"><span class="pre">Chruslinska21</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">SFH_MODEL</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/star_formation_history.html#Chruslinska21"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.star_formation_history.Chruslinska21" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#posydon.popsyn.star_formation_history.SFHBase" title="posydon.popsyn.star_formation_history.SFHBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SFHBase</span></code></a></p>
<p>The Chruślińska+21 star formation history model <a class="reference internal" href="#r574e1fb7c033-1" id="id1">[1]</a>.</p>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="r574e1fb7c033-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>Chruślińska, M., et al. (2021). MNRAS, 508, 4994.
<a class="reference external" href="https://ui.adsabs.harvard.edu/abs/2021MNRAS.508.4994C">https://ui.adsabs.harvard.edu/abs/2021MNRAS.508.4994C</a></p>
</div>
</div>
<p>Data source:
<a class="reference external" href="https://ftp.science.ru.nl/astro/mchruslinska/Chruslinska_et_al_2021/">https://ftp.science.ru.nl/astro/mchruslinska/Chruslinska_et_al_2021/</a></p>
<p>Initialise the Chruslinska+21 model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>SFH_MODEL</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – <p>SFH model parameters. Chruslinska+21 requires the
following parameters:
- sub_model : str</p>
<blockquote>
<div><p>The sub-model to use.
This is the name of the file containing the data.</p>
</div></blockquote>
<ul class="simple">
<li><dl class="simple">
<dt>Z_solar_scaling<span class="classifier">str</span></dt><dd><p>The scaling of the solar metallicity. Options are:
- Asplund09
- AndersGrevesse89
- GrevesseSauval98
- Villante14</p>
</dd>
</dl>
</li>
</ul>
<p>Additional SFH model parameters:
- Z_max : float</p>
<blockquote>
<div><p>The maximum metallicity in absolute units.</p>
</div></blockquote>
<ul class="simple">
<li><dl class="simple">
<dt>Z_min<span class="classifier">float</span></dt><dd><p>The minimum metallicity in absolute units.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>normalise<span class="classifier">bool</span></dt><dd><p>Normalise the metallicity distribution to 1.</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.star_formation_history.Chruslinska21.CSFRD">
<span class="sig-name descname"><span class="pre">CSFRD</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/star_formation_history.html#Chruslinska21.CSFRD"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.star_formation_history.Chruslinska21.CSFRD" title="Link to this definition"></a></dt>
<dd><p>Interpolate the cosmic star formation rate density at the given redshift(s)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> or </em><em>array-like</em>) – Cosmological redshift.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The cosmic star formation rate density at the given redshift(s).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a> or array-like</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.star_formation_history.Chruslinska21.fSFR">
<span class="sig-name descname"><span class="pre">fSFR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metallicity_bins</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/star_formation_history.html#Chruslinska21.fSFR"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.star_formation_history.Chruslinska21.fSFR" title="Link to this definition"></a></dt>
<dd><p>Calculate the fractional SFR as a function of redshift and metallicity bins</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> or </em><em>array-like</em>) – Cosmological redshift.</p></li>
<li><p><strong>metallicity_bins</strong> (<em>array</em>) – Metallicity bins edges in absolute metallicity.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Fraction of the SFR in the given metallicity bin at the given redshift.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.star_formation_history.Chruslinska21.mean_metallicity">
<span class="sig-name descname"><span class="pre">mean_metallicity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/star_formation_history.html#Chruslinska21.mean_metallicity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.star_formation_history.Chruslinska21.mean_metallicity" title="Link to this definition"></a></dt>
<dd><p>Calculate the mean metallicity at a given redshift</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> or </em><em>array-like</em>) – Cosmological redshift.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The mean metallicity at the given redshift(s).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a> or array-like</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="posydon.popsyn.star_formation_history.Fujimoto24">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">posydon.popsyn.star_formation_history.</span></span><span class="sig-name descname"><span class="pre">Fujimoto24</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">SFH_MODEL</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/star_formation_history.html#Fujimoto24"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.star_formation_history.Fujimoto24" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#posydon.popsyn.star_formation_history.MadauBase" title="posydon.popsyn.star_formation_history.MadauBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">MadauBase</span></code></a></p>
<p>The Fujimoto et al. (2024) star formation history model.
mean metallicity evolution of Madau &amp; Fragos (2017).</p>
<p>Fujimoto et al. (2024), ApJ SS, 275, 2, 36, 59
<a class="reference external" href="https://ui.adsabs.harvard.edu/abs/2024ApJS..275...36F/abstract">https://ui.adsabs.harvard.edu/abs/2024ApJS..275…36F/abstract</a></p>
<p>Initialise the Fujimoto+24 model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>SFH_MODEL</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – <p>SFH model parameters. Fujimoto+24 requires the following parameters:
- sigma : float or str</p>
<blockquote>
<div><p>The standard deviation of the log-normal metallicity distribution.
Options are:
- Bavera+20
- Neijssel+19
- float</p>
</div></blockquote>
<p>Additional SFH model parameters:
- Z_max : float</p>
<blockquote>
<div><p>The maximum metallicity in absolute units.</p>
</div></blockquote>
<ul class="simple">
<li><dl class="simple">
<dt>Z_min<span class="classifier">float</span></dt><dd><p>The minimum metallicity in absolute units.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>normalise<span class="classifier">bool</span></dt><dd><p>Normalise the metallicity distribution to 1.</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="posydon.popsyn.star_formation_history.IllustrisTNG">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">posydon.popsyn.star_formation_history.</span></span><span class="sig-name descname"><span class="pre">IllustrisTNG</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">SFH_MODEL</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/star_formation_history.html#IllustrisTNG"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.star_formation_history.IllustrisTNG" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#posydon.popsyn.star_formation_history.SFHBase" title="posydon.popsyn.star_formation_history.SFHBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SFHBase</span></code></a></p>
<p>The IllustrisTNG star formation history model.</p>
<p>Uses the TNG100-1 model from the IllustrisTNG simulation.</p>
<p><a class="reference external" href="https://www.tng-project.org/">https://www.tng-project.org/</a></p>
<p>Initialise the IllustrisTNG model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>SFH_MODEL</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – <p>Additional SFH model parameters:
- Z_max : float</p>
<blockquote>
<div><p>The maximum metallicity in absolute units.</p>
</div></blockquote>
<ul class="simple">
<li><dl class="simple">
<dt>Z_min<span class="classifier">float</span></dt><dd><p>The minimum metallicity in absolute units.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>normalise<span class="classifier">bool</span></dt><dd><p>Normalise the metallicity distribution to 1.</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.star_formation_history.IllustrisTNG.CSFRD">
<span class="sig-name descname"><span class="pre">CSFRD</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/star_formation_history.html#IllustrisTNG.CSFRD"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.star_formation_history.IllustrisTNG.CSFRD" title="Link to this definition"></a></dt>
<dd><p>The cosmic star formation rate density at a given redshift.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> or </em><em>np.array</em>) – Cosmological redshift.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The cosmic star formation rate density at the given redshift(s).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a> or array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.star_formation_history.IllustrisTNG.fSFR">
<span class="sig-name descname"><span class="pre">fSFR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metallicity_bins</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/star_formation_history.html#IllustrisTNG.fSFR"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.star_formation_history.IllustrisTNG.fSFR" title="Link to this definition"></a></dt>
<dd><p>Calculate the fractional SFR as a function of redshift and
metallicity bins.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> or </em><em>array-like</em>) – Cosmological redshift.</p></li>
<li><p><strong>metallicity_bins</strong> (<em>array</em>) – Metallicity bins edges in absolute metallicity.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Fraction of the SFR in the given metallicity bin at the given redshift.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.star_formation_history.IllustrisTNG.mean_metallicity">
<span class="sig-name descname"><span class="pre">mean_metallicity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/star_formation_history.html#IllustrisTNG.mean_metallicity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.star_formation_history.IllustrisTNG.mean_metallicity" title="Link to this definition"></a></dt>
<dd><p>Calculate the mean metallicity at a given redshift</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> or </em><em>array-like</em>) – Cosmological redshift.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The mean metallicity at the given redshift(s).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a> or array-like</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="posydon.popsyn.star_formation_history.MadauBase">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">posydon.popsyn.star_formation_history.</span></span><span class="sig-name descname"><span class="pre">MadauBase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">SFH_MODEL</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/star_formation_history.html#MadauBase"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.star_formation_history.MadauBase" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#posydon.popsyn.star_formation_history.SFHBase" title="posydon.popsyn.star_formation_history.SFHBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">SFHBase</span></code></a></p>
<p>Base class for Madau-style star-formation history implementations.
This class implements common methods for CSFRD, mean metallicity,
and fractional SFR based on the chosen Madau parameterisation.
The specific parameters for CSFRD must be provided by subclasses.</p>
<p>Initialise the MadauBase class</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>SFH_MODEL</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – <p>SFH model parameters. MadauBase requires the following parameters:
- sigma : float or str</p>
<blockquote>
<div><p>The standard deviation of the log-normal metallicity distribution.
Options are:
- Bavera+20
- Neijssel+19
- float</p>
</div></blockquote>
<p>Additional SFH model parameters:
- Z_max : float</p>
<blockquote>
<div><p>The maximum metallicity in absolute units.</p>
</div></blockquote>
<ul class="simple">
<li><dl class="simple">
<dt>Z_min<span class="classifier">float</span></dt><dd><p>The minimum metallicity in absolute units.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>normalise<span class="classifier">bool</span></dt><dd><p>Normalise the metallicity distribution to 1.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>CSFRD_params: dict</dt><dd><p>Parameters for the cosmic star formation rate density (CSFRD)
- a, b, c, d : float
Follows the Madau &amp; Dickinson (2014) CSFRD formula (Eq. 15) in <a class="reference internal" href="#r86ddbca86b72-1" id="id2">[1]</a></p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="r86ddbca86b72-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">1</a><span class="fn-bracket">]</span></span>
<p>Madau, P., &amp; Dickinson, M. (2014). Cosmic star formation history.
Annual Review of Astronomy and Astrophysics, 52, 415-486.
<a class="reference external" href="https://ui.adsabs.harvard.edu/abs/2014ARA%26A..52..415M/abstract">https://ui.adsabs.harvard.edu/abs/2014ARA%26A..52..415M/abstract</a></p>
</div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.star_formation_history.MadauBase.CSFRD">
<span class="sig-name descname"><span class="pre">CSFRD</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/star_formation_history.html#MadauBase.CSFRD"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.star_formation_history.MadauBase.CSFRD" title="Link to this definition"></a></dt>
<dd><p>The cosmic star formation rate density at a given redshift.</p>
<p>Follows the Madau &amp; Dickinson (2014) cosmic star formation rate
density formula.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> or </em><em>np.array</em>) – Cosmological redshift.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The cosmic star formation rate density at the given redshift.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a> or array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.star_formation_history.MadauBase.fSFR">
<span class="sig-name descname"><span class="pre">fSFR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metallicity_bins</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/star_formation_history.html#MadauBase.fSFR"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.star_formation_history.MadauBase.fSFR" title="Link to this definition"></a></dt>
<dd><p>Fraction of the SFR at a given redshift z in a given metallicity
bin as described in Bavera et al. (2020).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>z</strong> (<em>np.array</em>) – Cosmological redshift.</p></li>
<li><p><strong>metallicity_bins</strong> (<em>array</em>) – Metallicity bins edges in absolute metallicity.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Fraction of the SFR in the given metallicity bin at the given
redshift.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.star_formation_history.MadauBase.mean_metallicity">
<span class="sig-name descname"><span class="pre">mean_metallicity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/star_formation_history.html#MadauBase.mean_metallicity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.star_formation_history.MadauBase.mean_metallicity" title="Link to this definition"></a></dt>
<dd><p>The mean metallicity at a given redshift</p>
<p>Follows Madau &amp; Fragos (2017) mean metallicity evolution</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> or </em><em>np.array</em>) – Cosmological redshift.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The mean metallicity at the given redshift.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a> or array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.star_formation_history.MadauBase.std_log_metallicity_dist">
<span class="sig-name descname"><span class="pre">std_log_metallicity_dist</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/star_formation_history.html#MadauBase.std_log_metallicity_dist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.star_formation_history.MadauBase.std_log_metallicity_dist" title="Link to this definition"></a></dt>
<dd><p>Return the standard deviation of the log-normal metallicity
distribution</p>
<p>Either recognised the strings “Bavera+20” (sigma=0.5)
or “Neijssel+19” (sigma=0.39) or a float value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The standard deviation of the log-normal metallicity distribution.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="posydon.popsyn.star_formation_history.MadauDickinson14">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">posydon.popsyn.star_formation_history.</span></span><span class="sig-name descname"><span class="pre">MadauDickinson14</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">SFH_MODEL</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/star_formation_history.html#MadauDickinson14"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.star_formation_history.MadauDickinson14" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#posydon.popsyn.star_formation_history.MadauBase" title="posydon.popsyn.star_formation_history.MadauBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">MadauBase</span></code></a></p>
<p>Madau &amp; Dickinson (2014) <a class="reference internal" href="#id8" id="id3"><span>[Rc209e4668c41-1]</span></a> star formation history model using the
mean metallicity evolution of Madau &amp; Fragos (2017) <a class="reference internal" href="#id9" id="id4"><span>[Rc209e4668c41-2]</span></a>.</p>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="rc209e4668c41-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<p>Madau, P., &amp; Dickinson, M. (2014). ARA&amp;A, 52, 415-486.
<a class="reference external" href="https://ui.adsabs.harvard.edu/abs/2014ARA%26A..52..415M">https://ui.adsabs.harvard.edu/abs/2014ARA%26A..52..415M</a></p>
</div>
<div class="citation" id="rc209e4668c41-2" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></span>
<p>Madau, P., &amp; Fragos, T. (2017). ApJ, 840(1), 39.
<a class="reference external" href="https://ui.adsabs.harvard.edu/abs/2017ApJ...840...39M">https://ui.adsabs.harvard.edu/abs/2017ApJ…840…39M</a></p>
</div>
</div>
<p>Initialise the Madau &amp; Dickinson (2014) <a class="reference internal" href="#id8" id="id5"><span>[Rc209e4668c41-1]</span></a> SFH model with the
metallicity evolution of Madau &amp; Fragos (2017) <a class="reference internal" href="#id9" id="id6"><span>[Rc209e4668c41-2]</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>SFH_MODEL</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – <p>SFH model parameters. Madau+14 requires the following parameters:
- sigma : float or str</p>
<blockquote>
<div><p>The standard deviation of the log-normal metallicity
distribution.
Options are:
- Bavera+20
- Neijssel+19
- float</p>
</div></blockquote>
<p>Additional SFH model parameters:
- Z_max : float</p>
<blockquote>
<div><p>The maximum metallicity in absolute units.</p>
</div></blockquote>
<ul class="simple">
<li><dl class="simple">
<dt>Z_min<span class="classifier">float</span></dt><dd><p>The minimum metallicity in absolute units.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>normalise<span class="classifier">bool</span></dt><dd><p>Normalise the metallicity distribution to 1.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>CSFRD_params: dict</dt><dd><p>Parameters for the cosmic star formation rate density (CSFRD)
- a, b, c, d : float
Follows the Madau &amp; Dickinson (2014) CSFRD formula (Eq. 15) in <a class="reference internal" href="#id8" id="id7"><span>[Rc209e4668c41-1]</span></a></p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="id8" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<p>Madau, P., &amp; Dickinson, M. (2014). ARA&amp;A, 52, 415-486.
<a class="reference external" href="https://ui.adsabs.harvard.edu/abs/2014ARA%26A..52..415M">https://ui.adsabs.harvard.edu/abs/2014ARA%26A..52..415M</a></p>
</div>
<div class="citation" id="id9" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></span>
<p>Madau, P., &amp; Fragos, T. (2017). ApJ, 840(1), 39.
<a class="reference external" href="https://ui.adsabs.harvard.edu/abs/2017ApJ...840...39M">https://ui.adsabs.harvard.edu/abs/2017ApJ…840…39M</a></p>
</div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="posydon.popsyn.star_formation_history.MadauFragos17">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">posydon.popsyn.star_formation_history.</span></span><span class="sig-name descname"><span class="pre">MadauFragos17</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">SFH_MODEL</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/star_formation_history.html#MadauFragos17"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.star_formation_history.MadauFragos17" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#posydon.popsyn.star_formation_history.MadauBase" title="posydon.popsyn.star_formation_history.MadauBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">MadauBase</span></code></a></p>
<p>The Madau &amp; Fragos (2017) star formation history model with the
metallicity evolution of Madau &amp; Fragos (2017) <a class="reference internal" href="#r2179a25d56a5-1" id="id10">[1]</a>.</p>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="r2179a25d56a5-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id10">1</a><span class="fn-bracket">]</span></span>
<p>Madau, P., &amp; Fragos, T. (2017). ApJ, 840(1), 39.
<a class="reference external" href="https://ui.adsabs.harvard.edu/abs/2017ApJ...840...39M/abstract">https://ui.adsabs.harvard.edu/abs/2017ApJ…840…39M/abstract</a></p>
</div>
</div>
<p>Initialise the Madau+17 model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>SFH_MODEL</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – <p>SFH model parameters. Madau+17 requires the following parameters:
- sigma : float or str</p>
<blockquote>
<div><p>The standard deviation of the log-normal metallicity distribution.
Options are:
- Bavera+20
- Neijssel+19
- float</p>
</div></blockquote>
<p>Additional SFH model parameters:
- Z_max : float</p>
<blockquote>
<div><p>The maximum metallicity in absolute units.</p>
</div></blockquote>
<ul class="simple">
<li><dl class="simple">
<dt>Z_min<span class="classifier">float</span></dt><dd><p>The minimum metallicity in absolute units.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>normalise<span class="classifier">bool</span></dt><dd><p>Normalise the metallicity distribution to 1.</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="posydon.popsyn.star_formation_history.Neijssel19">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">posydon.popsyn.star_formation_history.</span></span><span class="sig-name descname"><span class="pre">Neijssel19</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">SFH_MODEL</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/star_formation_history.html#Neijssel19"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.star_formation_history.Neijssel19" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#posydon.popsyn.star_formation_history.MadauBase" title="posydon.popsyn.star_formation_history.MadauBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">MadauBase</span></code></a></p>
<p>The Neijssel et al. (2019) <a class="reference internal" href="#rd61e1adb8edc-1" id="id11">[1]</a> star formation history model, which fits
the Madau &amp; Dickinson (2014) <a class="reference internal" href="#rd61e1adb8edc-2" id="id12">[2]</a> cosmic star formation rate density formula
with the BBH merger rate and uses a truncated log-normal distribution for
the mean metallicity distribution.
The mean metallicity evolution follows the Langer and Normal parameterisation
also fitted to the BBH merger rate.</p>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="rd61e1adb8edc-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id11">1</a><span class="fn-bracket">]</span></span>
<p>Neijssel, C. J., et al. (2019). MNRAS, 490, 3740.
<a class="reference external" href="https://ui.adsabs.harvard.edu/abs/2019MNRAS.490.3740N">https://ui.adsabs.harvard.edu/abs/2019MNRAS.490.3740N</a></p>
</div>
<div class="citation" id="rd61e1adb8edc-2" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id12">2</a><span class="fn-bracket">]</span></span>
<p>Madau, P., &amp; Fragos, T. (2017). ApJ, 840(1), 39.
<a class="reference external" href="https://ui.adsabs.harvard.edu/abs/2017ApJ...840...39M/">https://ui.adsabs.harvard.edu/abs/2017ApJ…840…39M/</a></p>
</div>
</div>
<p>Initialise the Neijssel+19 model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>SFH_MODEL</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – <p>SFH model parameters. Neijssel+19 requires the following parameters:
- sigma : float or str</p>
<blockquote>
<div><p>The standard deviation of the log-normal metallicity distribution.
Options are:
- Bavera+20
- Neijssel+19
- float</p>
</div></blockquote>
<p>Additional SFH model parameters:
- Z_max : float</p>
<blockquote>
<div><p>The maximum metallicity in absolute units.</p>
</div></blockquote>
<ul class="simple">
<li><dl class="simple">
<dt>Z_min<span class="classifier">float</span></dt><dd><p>The minimum metallicity in absolute units.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>normalise<span class="classifier">bool</span></dt><dd><p>Normalise the metallicity distribution to 1.</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.star_formation_history.Neijssel19.fSFR">
<span class="sig-name descname"><span class="pre">fSFR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metallicity_bins</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/star_formation_history.html#Neijssel19.fSFR"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.star_formation_history.Neijssel19.fSFR" title="Link to this definition"></a></dt>
<dd><p>Fraction of the SFR at a given redshift z in a given metallicity bin
as described in Neijssel et al. (2019).</p>
<p>Overwrites the fSFR method of MadauBase class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>z</strong> (<em>np.array</em>) – Cosmological redshift.</p></li>
<li><p><strong>metallicity_bins</strong> (<em>array</em>) – Metallicity bins edges in absolute metallicity.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Fraction of the SFR in the given metallicity bins at the
given redshift.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.star_formation_history.Neijssel19.mean_metallicity">
<span class="sig-name descname"><span class="pre">mean_metallicity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/star_formation_history.html#Neijssel19.mean_metallicity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.star_formation_history.Neijssel19.mean_metallicity" title="Link to this definition"></a></dt>
<dd><p>Calculate the mean metallicity at a given redshift</p>
<p>Overwrites the mean_metallicity method of MadauBase class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> or </em><em>array-like</em>) – Cosmological redshift.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The mean metallicity at the given redshift(s).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a> or array-like</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="posydon.popsyn.star_formation_history.SFHBase">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">posydon.popsyn.star_formation_history.</span></span><span class="sig-name descname"><span class="pre">SFHBase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">SFH_MODEL</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/star_formation_history.html#SFHBase"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.star_formation_history.SFHBase" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></a></p>
<p>Abstract class for star formation history models</p>
<p>Initialise the SFH model</p>
<p>Adds the model parameters as attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>SFH_MODEL</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – <p>SFH model parameters.
- Z_max : float</p>
<blockquote>
<div><p>The maximum metallicity in absolute units.</p>
</div></blockquote>
<ul class="simple">
<li><dl class="simple">
<dt>Z_min<span class="classifier">float</span></dt><dd><p>The minimum metallicity in absolute units.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>normalise<span class="classifier">bool</span></dt><dd><p>Normalise the metallicity distribution to 1.</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.star_formation_history.SFHBase.CSFRD">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CSFRD</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/star_formation_history.html#SFHBase.CSFRD"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.star_formation_history.SFHBase.CSFRD" title="Link to this definition"></a></dt>
<dd><p>Compute the cosmic star formation rate density.</p>
<p>This is an abstract method that must be implemented by subclasses.
The implementation should calculate and return the cosmic star formation
rate density at the given redshift(s).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> or </em><em>array-like</em>) – Cosmological redshift.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The cosmic star formation rate density at the given redshift(s).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a> or array-like</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#NotImplementedError" title="(in Python v3.13)"><strong>NotImplementedError</strong></a> – If the subclass does not implement this method.:</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.star_formation_history.SFHBase.fSFR">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fSFR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metallicity_bins</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/star_formation_history.html#SFHBase.fSFR"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.star_formation_history.SFHBase.fSFR" title="Link to this definition"></a></dt>
<dd><p>Compute the star formation rate fraction (fSFR) at a given redshift
using the specified metallicity bins.</p>
<p>This is an abstract method that must be implemented by subclasses.
The implementation should calculate and return the fractional SFR per
metallicity bins at the provided redshift (z).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> or </em><em>array-like</em>) – The redshift(s) at which to compute the star formation rate.</p></li>
<li><p><strong>metallicity_bins</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> or </em><em>array-like</em>) – The metallicity bin boundaries or labels used in the computation to
account for different metallicity contributions.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>float or array-like</em> – The calculated star formation rate at the given redshift(s) and
metallicity bins in Msun/yr.</p></li>
<li><p><em>Raises</em> – NotImplementedError: If the subclass does not implement this method.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.star_formation_history.SFHBase.mean_metallicity">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mean_metallicity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/star_formation_history.html#SFHBase.mean_metallicity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.star_formation_history.SFHBase.mean_metallicity" title="Link to this definition"></a></dt>
<dd><p>Return the mean metallicity at redshift z.</p>
<p>This is an abstract method that must be implemented by subclasses.
The implementation should calculate and return the mean metallicity
at the given redshift(s).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> or </em><em>array-like</em>) – Cosmological redshift.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The mean metallicity at the given redshift(s).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a> or array-like</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#NotImplementedError" title="(in Python v3.13)"><strong>NotImplementedError</strong></a> – If the subclass does not implement this method.:</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.star_formation_history.SFR_per_met_at_z">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.star_formation_history.</span></span><span class="sig-name descname"><span class="pre">SFR_per_met_at_z</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">met_bins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">SFH_MODEL</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/star_formation_history.html#SFR_per_met_at_z"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.star_formation_history.SFR_per_met_at_z" title="Link to this definition"></a></dt>
<dd><p>Calculate the SFR per metallicity bin at a given redshift(s)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> or </em><em>array-like</em>) – Cosmological redshift.</p></li>
<li><p><strong>met_bins</strong> (<em>array</em>) – Metallicity bins edges in absolute metallicity.</p></li>
<li><p><strong>SFH_MODEL</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – SFH model parameters.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>SFH</strong> – Star formation history per metallicity bin at the given redshift(s).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>2D array</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="posydon.popsyn.star_formation_history.Zavala21">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">posydon.popsyn.star_formation_history.</span></span><span class="sig-name descname"><span class="pre">Zavala21</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">SFH_MODEL</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/star_formation_history.html#Zavala21"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.star_formation_history.Zavala21" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#posydon.popsyn.star_formation_history.MadauBase" title="posydon.popsyn.star_formation_history.MadauBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">MadauBase</span></code></a></p>
<p>The Zavala et al. (2021) star formation history model <a class="reference internal" href="#r3a1b7d73cf71-1" id="id13">[1]</a>.</p>
<p>The “min” and “max” models are based on the obscured and unobscured
star formation rate density models, respectively.</p>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="r3a1b7d73cf71-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id13">1</a><span class="fn-bracket">]</span></span>
<p>Zavala, J., et al. (2021). ApJ, 909(2), 165.
<a class="reference external" href="https://ui.adsabs.harvard.edu/abs/2021ApJ...909..165Z/">https://ui.adsabs.harvard.edu/abs/2021ApJ…909..165Z/</a></p>
</div>
</div>
<p>Initialise the Zavala+21 model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>SFH_MODEL</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – <p>SFH model parameters. Zavala+21 requires the following parameters:
- sub_model : str</p>
<blockquote>
<div><p>The sub-model to use. Either “min” or “max”.</p>
</div></blockquote>
<p>Additional SFH model parameters:
- Z_max : float</p>
<blockquote>
<div><p>The maximum metallicity in absolute units.</p>
</div></blockquote>
<ul class="simple">
<li><dl class="simple">
<dt>Z_min<span class="classifier">float</span></dt><dd><p>The minimum metallicity in absolute units.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>normalise<span class="classifier">bool</span></dt><dd><p>Normalise the metallicity distribution to 1.</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.star_formation_history.Zavala21.CSFRD">
<span class="sig-name descname"><span class="pre">CSFRD</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/star_formation_history.html#Zavala21.CSFRD"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.star_formation_history.Zavala21.CSFRD" title="Link to this definition"></a></dt>
<dd><p>The cosmic star formation rate density at a given redshift.</p>
<p>Follows the Madau &amp; Dickinson (2014) cosmic star formation rate
density formula.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>z</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> or </em><em>np.array</em>) – Cosmological redshift.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The cosmic star formation rate density at the given redshift.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a> or array</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.star_formation_history.get_SFH_model">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.star_formation_history.</span></span><span class="sig-name descname"><span class="pre">get_SFH_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">SFH_MODEL</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/star_formation_history.html#get_SFH_model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.star_formation_history.get_SFH_model" title="Link to this definition"></a></dt>
<dd><p>Return the appropriate SFH model based on the given parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>SFH_MODEL</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – SFH model parameters.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The SFH model instance.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>a SFHBase instance or subclass</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.star_formation_history.get_formation_times">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.star_formation_history.</span></span><span class="sig-name descname"><span class="pre">get_formation_times</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">N_binaries</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">star_formation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'constant'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/star_formation_history.html#get_formation_times"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.star_formation_history.get_formation_times" title="Link to this definition"></a></dt>
<dd><p>Get formation times of binaries in a population based on a SFH scenario.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>N_binaries</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – Number of formation ages to produce.</p></li>
<li><p><strong>star_formation</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>{constant</em><em>, </em><em>burst}</em>) – Constant - random formation times from a uniform distribution.
Burst - all stars are born at the same time.</p></li>
<li><p><strong>burst_time</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><em>0</em><em> (</em><em>years</em><em>)</em>) – Sets birth time in years.</p></li>
<li><p><strong>min_time</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><em>0</em><em> (</em><em>years</em><em>)</em>) – If constant SF, sets minimum of random sampling.</p></li>
<li><p><strong>max_time</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><em>age_of_universe</em><em> (</em><em>years</em><em>)</em>) – If constant SF, sets maximum of random sampling.</p></li>
<li><p><strong>RNG</strong> (<em>&lt;class</em><em>, </em><em>np.random.Generator&gt;</em>) – Random generator instance.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The formation times array.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-posydon.popsyn.synthetic_population">
<span id="posydon-popsyn-synthetic-population"></span><h2>posydon.popsyn.synthetic_population<a class="headerlink" href="#module-posydon.popsyn.synthetic_population" title="Link to this heading"></a></h2>
<p>Processing of population files.</p>
<p>This module contains classes and functions to process population files.
Population files are HDF5 files containing the history and oneline dataframes
of a population of binary systems. The history dataframe contains the detailed
evolution of each binary system, while the oneline dataframe contains the
final state of each binary system.</p>
<section id="classes">
<h3>Classes<a class="headerlink" href="#classes" title="Link to this heading"></a></h3>
<dl class="simple">
<dt>PopulationRunner</dt><dd><p>A class to handle the evolution of binary populations.</p>
</dd>
<dt>Population</dt><dd><p>A class to handle population files.</p>
</dd>
<dt>History</dt><dd><p>A class to handle the history dataframe of a population file.</p>
</dd>
<dt>Oneline</dt><dd><p>A class to handle the oneline dataframe of a population file.</p>
</dd>
<dt>TransientPopulation</dt><dd><p>A class to handle transient populations.</p>
</dd>
<dt>Rates</dt><dd><p>A class to handle the cosmic rates of in a population file.</p>
</dd>
</dl>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.DFInterface">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">posydon.popsyn.synthetic_population.</span></span><span class="sig-name descname"><span class="pre">DFInterface</span></span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#DFInterface"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.DFInterface" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A class to handle the interface between the population file and the History and Oneline classes.</p>
<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.DFInterface.get_html_repr">
<span class="sig-name descname"><span class="pre">get_html_repr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#DFInterface.get_html_repr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.DFInterface.get_html_repr" title="Link to this definition"></a></dt>
<dd><p>Return the HTML representation of the key table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The key of the table to return the HTML representation of.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The HTML representation of the key table.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.DFInterface.get_repr">
<span class="sig-name descname"><span class="pre">get_repr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#DFInterface.get_repr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.DFInterface.get_repr" title="Link to this definition"></a></dt>
<dd><p>Return a string representation of the key table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The key of the table to return the string representation of.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The string representation of the key table.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.DFInterface.head">
<span class="sig-name descname"><span class="pre">head</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#DFInterface.head"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.DFInterface.head" title="Link to this definition"></a></dt>
<dd><p>Return the first n rows of the key table</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The key of the table</p></li>
<li><p><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The number of rows to return. Default is 10.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The first n rows of the key table.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.DFInterface.select">
<span class="sig-name descname"><span class="pre">select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">where</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#DFInterface.select"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.DFInterface.select" title="Link to this definition"></a></dt>
<dd><p>Select a subset of the key table based on the given conditions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The key of the table to select from.</p></li>
<li><p><strong>where</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – A string representing the query condition to apply to the data.</p></li>
<li><p><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The starting index of the data to select.</p></li>
<li><p><strong>stop</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The ending index of the data to select.</p></li>
<li><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>, </em><em>optional</em>) – A list of column names to select.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The selected data as a DataFrame.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.DFInterface.tail">
<span class="sig-name descname"><span class="pre">tail</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#DFInterface.tail"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.DFInterface.tail" title="Link to this definition"></a></dt>
<dd><p>Get the last n rows of the key table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The key of the table.</p></li>
<li><p><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The number of rows to return. Default is 10.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The last n rows of the key table.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.History">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">posydon.popsyn.synthetic_population.</span></span><span class="sig-name descname"><span class="pre">History</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100000</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#History"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.History" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#posydon.popsyn.synthetic_population.DFInterface" title="posydon.popsyn.synthetic_population.DFInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">DFInterface</span></code></a></p>
<p>A class to handle the history dataframe of a population file.</p>
<p>This class provides methods to handle the history dataframe of a population file.
It allows accessing and manipulating the history table based on various keys and conditions.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.History.filename">
<span class="sig-name descname"><span class="pre">filename</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.History.filename" title="Link to this definition"></a></dt>
<dd><p>The path to the population file.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.History.verbose">
<span class="sig-name descname"><span class="pre">verbose</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.History.verbose" title="Link to this definition"></a></dt>
<dd><p>If <cite>True</cite>, print additional information.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.History.chunksize">
<span class="sig-name descname"><span class="pre">chunksize</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.History.chunksize" title="Link to this definition"></a></dt>
<dd><p>The chunksize to use when reading the history file.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.History.lengths">
<span class="sig-name descname"><span class="pre">lengths</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.History.lengths" title="Link to this definition"></a></dt>
<dd><p>The number of rows of each binary in the history dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.History.number_of_systems">
<span class="sig-name descname"><span class="pre">number_of_systems</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.History.number_of_systems" title="Link to this definition"></a></dt>
<dd><p>The number of systems in the history dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.History.columns">
<span class="sig-name descname"><span class="pre">columns</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.History.columns" title="Link to this definition"></a></dt>
<dd><p>The columns of the history dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a> of <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.History.indices">
<span class="sig-name descname"><span class="pre">indices</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.History.indices" title="Link to this definition"></a></dt>
<dd><p>The binary indices of the history dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<p>Initialise the history dataframe.</p>
<p>This class is used to handle the history dataframe of a population file.
On initialisation, the history_lengths are calculated and stored in the population file,
if not present in the file. The history dataframe is not loaded into memory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The path to the population file.</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) – If <cite>True</cite>, print additional information.</p></li>
<li><p><strong>chunksize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em> (</em><em>default=100000</em><em>)</em>) – The chunksize to use when reading the history file.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.History.head">
<span class="sig-name descname"><span class="pre">head</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#History.head"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.History.head" title="Link to this definition"></a></dt>
<dd><p>Return the first n rows of the history table</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The number of rows to return. Default is 10.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The first n rows of the history table.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.History.select">
<span class="sig-name descname"><span class="pre">select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">where</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#History.select"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.History.select" title="Link to this definition"></a></dt>
<dd><p>Select a subset of the history table based on the given conditions.</p>
<p>This method allows you to query and retrieve a subset of data from the history table
stored in an HDFStore file. You can specify conditions using the <cite>where</cite> parameter,
which is a string representing the query condition to apply to the data. You can also
specify the starting and ending indices of the data to select using the <cite>start</cite> and
<cite>stop</cite> parameters. Additionally, you can choose to select specific columns by providing
a list of column names using the <cite>columns</cite> parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>where</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – A string representing the query condition to apply to the data.
It is only possible to query on the index or string columns.</p></li>
<li><p><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The starting index of the data to select.</p></li>
<li><p><strong>stop</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The ending index of the data to select.</p></li>
<li><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>, </em><em>optional</em>) – A list of column names to select.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The selected data as a DataFrame.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.History.tail">
<span class="sig-name descname"><span class="pre">tail</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#History.tail"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.History.tail" title="Link to this definition"></a></dt>
<dd><p>Return the last n rows of the history table.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Oneline">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">posydon.popsyn.synthetic_population.</span></span><span class="sig-name descname"><span class="pre">Oneline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100000</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#Oneline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.Oneline" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#posydon.popsyn.synthetic_population.DFInterface" title="posydon.popsyn.synthetic_population.DFInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">DFInterface</span></code></a></p>
<p>A class to handle the oneline dataframe of a population file.</p>
<p>The <cite>Oneline</cite> class provides methods to manipulate and retrieve data from the oneline dataframe of a population file.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Oneline.filename">
<span class="sig-name descname"><span class="pre">filename</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.Oneline.filename" title="Link to this definition"></a></dt>
<dd><p>The path to the population file.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Oneline.verbose">
<span class="sig-name descname"><span class="pre">verbose</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.Oneline.verbose" title="Link to this definition"></a></dt>
<dd><p>If <cite>True</cite>, print additional information.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Oneline.chunksize">
<span class="sig-name descname"><span class="pre">chunksize</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.Oneline.chunksize" title="Link to this definition"></a></dt>
<dd><p>The chunksize to use when reading the oneline file.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Oneline.number_of_systems">
<span class="sig-name descname"><span class="pre">number_of_systems</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.Oneline.number_of_systems" title="Link to this definition"></a></dt>
<dd><p>The number of systems in the oneline dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Oneline.indices">
<span class="sig-name descname"><span class="pre">indices</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.Oneline.indices" title="Link to this definition"></a></dt>
<dd><p>The binary indices of the oneline dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Oneline.columns">
<span class="sig-name descname"><span class="pre">columns</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.Oneline.columns" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a> of <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
</dl>
</dd></dl>

<p>Initialize a Oneline class instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The path to the HDFStore file containing the Oneline population data.</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, print additional information during initialization. Default is False.</p></li>
<li><p><strong>chunksize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The number of rows to read from the HDFStore file at a time. Default is 10000.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Oneline.head">
<span class="sig-name descname"><span class="pre">head</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#Oneline.head"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.Oneline.head" title="Link to this definition"></a></dt>
<dd><p>Get the first n rows of the oneline table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The number of rows to return. Default is 10.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The first n rows of the oneline table.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Oneline.select">
<span class="sig-name descname"><span class="pre">select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">where</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#Oneline.select"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.Oneline.select" title="Link to this definition"></a></dt>
<dd><p>Select a subset of the oneline table based on the given conditions.</p>
<p>This method allows you to filter and extract a subset of rows from the oneline table stored in an HDF file.
You can specify conditions to filter the rows, define the range of rows to select, and choose specific columns to include in the subset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>where</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – A condition to filter the rows of the oneline table. Default is None.
It is only possible to query on the index or string columns.</p></li>
<li><p><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The starting index of the subset. Default is None.</p></li>
<li><p><strong>stop</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The ending index of the subset. Default is None.</p></li>
<li><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>, </em><em>optional</em>) – The column names to include in the subset. Default is None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The selected subset of the oneline table.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p># Select rows based on a condition
&gt;&gt;&gt; df = Oneline.select(where=”event == ‘ZAMS’”)</p>
<p># Select rows from index 10 to 20
&gt;&gt;&gt; df = Oneline.select(start=10, stop=20)</p>
<p># Select specific columns
&gt;&gt;&gt; df = Oneline.select(columns=[‘S1_mass_i’, ‘S1_mass_f’])</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Oneline.tail">
<span class="sig-name descname"><span class="pre">tail</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#Oneline.tail"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.Oneline.tail" title="Link to this definition"></a></dt>
<dd><p>Get the last n rows of the oneline table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The number of rows to return. Default is 10.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The last n rows of the oneline table.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Population">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">posydon.popsyn.synthetic_population.</span></span><span class="sig-name descname"><span class="pre">Population</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metallicity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ini_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000000</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#Population"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.Population" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#posydon.popsyn.synthetic_population.PopulationIO" title="posydon.popsyn.synthetic_population.PopulationIO"><code class="xref py py-class docutils literal notranslate"><span class="pre">PopulationIO</span></code></a></p>
<p>A class to handle population files.</p>
<p>This class provides methods to handle population files. It includes methods to read and write population files,
as well as methods to access and manipulate the history and oneline dataframes.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Population.history">
<span class="sig-name descname"><span class="pre">history</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.Population.history" title="Link to this definition"></a></dt>
<dd><p>The history dataframe of the population.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#posydon.popsyn.synthetic_population.History" title="posydon.popsyn.synthetic_population.History">History</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Population.oneline">
<span class="sig-name descname"><span class="pre">oneline</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.Population.oneline" title="Link to this definition"></a></dt>
<dd><p>The oneline dataframe of the population.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#posydon.popsyn.synthetic_population.Oneline" title="posydon.popsyn.synthetic_population.Oneline">Oneline</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Population.formation_channels">
<span class="sig-name descname"><span class="pre">formation_channels</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.Population.formation_channels" title="Link to this definition"></a></dt>
<dd><p>The formation channels dataframe of the population.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Population.ini_params">
<span class="sig-name descname"><span class="pre">ini_params</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.Population.ini_params" title="Link to this definition"></a></dt>
<dd><p>The parameters from the ini file used to create the population.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Population.mass_per_metallicity">
<span class="sig-name descname"><span class="pre">mass_per_metallicity</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.Population.mass_per_metallicity" title="Link to this definition"></a></dt>
<dd><p>The mass per metallicity dataframe of the population.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Population.solar_metallicities">
<span class="sig-name descname"><span class="pre">solar_metallicities</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.Population.solar_metallicities" title="Link to this definition"></a></dt>
<dd><p>The solar metallicities of the population.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Population.metallicities">
<span class="sig-name descname"><span class="pre">metallicities</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.Population.metallicities" title="Link to this definition"></a></dt>
<dd><p>The metallicities of the population.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Population.indices">
<span class="sig-name descname"><span class="pre">indices</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.Population.indices" title="Link to this definition"></a></dt>
<dd><p>The indices of the binaries in the population.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Population.verbose">
<span class="sig-name descname"><span class="pre">verbose</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.Population.verbose" title="Link to this definition"></a></dt>
<dd><p>If <cite>True</cite>, print additional information.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Population.chunksize">
<span class="sig-name descname"><span class="pre">chunksize</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.Population.chunksize" title="Link to this definition"></a></dt>
<dd><p>The chunksize to use when reading the population file.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Population.filename">
<span class="sig-name descname"><span class="pre">filename</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.Population.filename" title="Link to this definition"></a></dt>
<dd><p>The path to the population file.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Population.number_of_systems">
<span class="sig-name descname"><span class="pre">number_of_systems</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.Population.number_of_systems" title="Link to this definition"></a></dt>
<dd><p>The number of systems in the population.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Population.history_lengths">
<span class="sig-name descname"><span class="pre">history_lengths</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.Population.history_lengths" title="Link to this definition"></a></dt>
<dd><p>The number of rows of each binary in the history dataframe. The index is the binary index.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<p>Initialize the Population object.</p>
<p>The Population object is initialised by creating History and Oneline objects,
which refer back to the population file (filename). The formation channels are also
linked to the population file, if present. The mass per metallicity data is loaded
from the file, if present, or calculated and saved to the file if not present.</p>
<p>If the mass per metallicity data is not present in the file, you can provide a metallicity
and the ini file (used to create the population) to calculate and save the mass per metallicity data.
You only need to do this once for a given population file. However, all systems in the population
will be given the same metallicity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The path to the population file</p></li>
<li><p><strong>metallicity</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><em>optional</em>) – The metallicity of the population in solar units.</p></li>
<li><p><strong>ini_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – The path to the ini file used to create the population.</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – If <cite>True</cite>, print additional information.</p></li>
<li><p><strong>chunksize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The chunksize to use when reading the population file.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – If the provided filename does not contain ‘.h5’ extension.
If the population file does not contain a history table.
If the population file does not contain an oneline table.
If the population file does not contain an ini_parameters table.
If the population file does not contain a mass_per_metallicity table and no metallicity for the file was given.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p># When the population file contains a mass_per_metallicity table
&gt;&gt;&gt; pop = Population(‘/path/to/population_file.h5’)</p>
<p># When the population file does not contain a mass_per_metallicity table
&gt;&gt;&gt; pop = Population(‘/path/to/population_file.h5’, metallicity=0.02, ini_file=’/path/to/ini_file.ini’)</p>
<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Population.calculate_formation_channels">
<span class="sig-name descname"><span class="pre">calculate_formation_channels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mt_history</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#Population.calculate_formation_channels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.Population.calculate_formation_channels" title="Link to this definition"></a></dt>
<dd><p>Calculate the formation channels of the population.</p>
<p>mt_history is a boolean that determines if the detailed mass-transfer history
from the HMS-HMS grid is included in the formation channels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>mt_history</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – If <cite>True</cite>, include the mass-transfer history in the formation channels. Default is False.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – If the mt_history_HMS_HMS column is not present in the oneline dataframe.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Population.calculate_underlying_mass">
<span class="sig-name descname"><span class="pre">calculate_underlying_mass</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f_bin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#Population.calculate_underlying_mass"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.Population.calculate_underlying_mass" title="Link to this definition"></a></dt>
<dd><p>Calculate the underlying mass of the population.</p>
<p>Adds the underlying mass of the population to the mass_per_metallicity table.</p>
<p>This method calculates the underlying mass of the population based on the simulated mass
of the population and the boundaries of the sampled mass distribution.
You can specify the fraction of binaries in the population using the <cite>f_bin</cite> parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f_bin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, </em><em>optional</em>) – The fraction of binaries in the population. Default is 0.7.</p></li>
<li><p><strong>overwrite</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – If <cite>True</cite>, overwrite the underlying mass values if they already exist. Default is <cite>False</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The underlying mass of the population.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Population.columns">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">columns</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.Population.columns" title="Link to this definition"></a></dt>
<dd><p>Returns a dictionary containing the column names of the history and oneline dataframes.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A dictionary with keys ‘history’ and ‘oneline’, where the values are the column names of the respective dataframes.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Population.create_transient_population">
<span class="sig-name descname"><span class="pre">create_transient_population</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transient_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oneline_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hist_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#Population.create_transient_population"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.Population.create_transient_population" title="Link to this definition"></a></dt>
<dd><p>Given a function, create a TransientPopulation</p>
<p>This method creates a transient population using the provided function.
<cite>func</cite> is given the history, oneline, and formation channels dataframes as arguments.
The function should return a dataframe containing the transient population, which needs to contain the columns ‘time’ and ‘metallicity’.</p>
<p>Processing is done in chunks to avoid memory issues and a pandas DataFrame is stored at <cite>‘/transients/transient_name’</cite> in the population file.</p>
<p>The creation of the transient population can be sped up by limiting the oneline_cols and hist_cols to only the columns needed for the function.
If you do not provide these, all columns will be used, which can be slow for large populations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>function</em>) – <p>Function to apply to the parsed population to create a transient population.
The function needs to take 3 arguments:</p>
<blockquote>
<div><ul>
<li><p>history_chunk : pd.DataFrame</p></li>
<li><p>oneline_chunk : pd.DataFrame</p></li>
<li><p>formation_channels_chunk : pd.DataFrame</p></li>
</ul>
</div></blockquote>
<p>and return a pd.DataFrame containing the transient population, which needs to contain the columns ‘time’ and ‘metallicity’.</p>
</p></li>
<li><p><strong>oneline_cols</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Columns to extract from the oneline dataframe. Default is all columns.</p></li>
<li><p><strong>hist_cols</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – Columns to extract from the history dataframe. Default is all columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A TransientPopulation object for interfacing with the transient population or None if no systems are present in the TransientPopulation.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#posydon.popsyn.synthetic_population.TransientPopulation" title="posydon.popsyn.synthetic_population.TransientPopulation">TransientPopulation</a> or None</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – If the transient population requires a time column or if the transient population contains duplicate columns.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>See the tutorials for examples of how to use this method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Population.export_selection">
<span class="sig-name descname"><span class="pre">export_selection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">selection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">append</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">history_chunksize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000000</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#Population.export_selection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.Population.export_selection" title="Link to this definition"></a></dt>
<dd><p>Export a selection of the population to a new file</p>
<p>This method exports a selection of systems from the population to a new file.
The selected systems are specified by their indices in the population.</p>
<p>By default the selected systems will overwrite the file if it already exists.
If overwrite is set to False, the selected systems will be appended to
the existing file if it already exists and the indices will be shifted
based on the current length of data in the file that is being appended to.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>selection</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em> of </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – The indices of the systems to export.</p></li>
<li><p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The name of the export file to create or append to.</p></li>
<li><p><strong>chunksize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The number of systems to export at a time. Default is 1000000.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – If the filename does not contain “.h5” extension.</p>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<dl class="simple">
<dt>ReplaceValueWarning</dt><dd><p>If there is no “metallicity” column in the oneline dataframe and the population file contains multiple metallicities.</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The exported systems will be appended to the existing file if it already exists.</p></li>
<li><p>The indices of the exported systems will be shifted based on the current length of data in the file.</p></li>
<li><p>The “oneline” and “history” dataframes of the selected systems will be written to the file.</p></li>
<li><p>If available, the “formation_channels” dataframe and “history_lengths” dataframe of the selected systems will also be written to the file.</p></li>
<li><p>The “metallicity” column of the oneline dataframe will be added if it is not present, using the metallicity of the population file.</p></li>
<li><p>The “mass_per_metallicity” dataframe will be updated with the number of selected systems.</p></li>
</ul>
<p class="rubric">Examples</p>
<p># Export systems with indices [0, 1, 2] to a new file named “selected.h5”
&gt;&gt;&gt; population.export_selection([0, 1, 2], “selected.h5”)</p>
<p># Export systems with indices [3, 4, 5] to an existing file named “existing.h5”
&gt;&gt;&gt; population.export_selection([3, 4, 5], “existing.h5”)</p>
<p># Export systems with indices [6, 7, 8] to a new file named “selected.h5” in chunks of 2
&gt;&gt;&gt; population.export_selection([6, 7, 8], “selected.h5”, history_chunksize=2)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id0">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">formation_channels</span></span><a class="headerlink" href="#id0" title="Link to this definition"></a></dt>
<dd><p>Retrieves the formation channels from the population file.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The formation channels if available, otherwise None.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.DataFrame or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Population.plot_binary_evolution">
<span class="sig-name descname"><span class="pre">plot_binary_evolution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#Population.plot_binary_evolution"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.Population.plot_binary_evolution" title="Link to this definition"></a></dt>
<dd><p>Plot the binary evolution of a system</p>
<p>This method is not currently implemented.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.PopulationIO">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">posydon.popsyn.synthetic_population.</span></span><span class="sig-name descname"><span class="pre">PopulationIO</span></span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#PopulationIO"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.PopulationIO" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A class to handle the input/output of population files.</p>
<p>This class provides methods to load and save population files in HDF5 format.
It also includes methods to load and save metadata and ini parameters.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.PopulationIO.mass_per_metallicity">
<span class="sig-name descname"><span class="pre">mass_per_metallicity</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.PopulationIO.mass_per_metallicity" title="Link to this definition"></a></dt>
<dd><p>A DataFrame containing mass per metallicity data.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.PopulationIO.ini_params">
<span class="sig-name descname"><span class="pre">ini_params</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.PopulationIO.ini_params" title="Link to this definition"></a></dt>
<dd><p>A dictionary containing some ini parameters, described in parameter_array.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.PopulationRunner">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">posydon.popsyn.synthetic_population.</span></span><span class="sig-name descname"><span class="pre">PopulationRunner</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_to_ini</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#PopulationRunner"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.PopulationRunner" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A class to handle the evolution of binary populations.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.PopulationRunner.pop_params">
<span class="sig-name descname"><span class="pre">pop_params</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.PopulationRunner.pop_params" title="Link to this definition"></a></dt>
<dd><p>The parameters of the population population.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.PopulationRunner.solar_metallicities">
<span class="sig-name descname"><span class="pre">solar_metallicities</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.PopulationRunner.solar_metallicities" title="Link to this definition"></a></dt>
<dd><p>The metallicities of the populations in solar units.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a> of <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.PopulationRunner.binary_populations">
<span class="sig-name descname"><span class="pre">binary_populations</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.PopulationRunner.binary_populations" title="Link to this definition"></a></dt>
<dd><p>The binary populations.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a> of <a class="reference internal" href="#posydon.popsyn.binarypopulation.BinaryPopulation" title="posydon.popsyn.binarypopulation.BinaryPopulation">BinaryPopulation</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.PopulationRunner.verbose">
<span class="sig-name descname"><span class="pre">verbose</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.PopulationRunner.verbose" title="Link to this definition"></a></dt>
<dd><p>If <cite>True</cite>, print additional information.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)">bool</a></p>
</dd>
</dl>
</dd></dl>

<p>Initialize the binary populations from an ini file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_to_ini</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The path to the ini file.</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, print additional information. Default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – If the provided <cite>path_to_ini</cite> does not have a ‘.ini’ extension.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method initializes the <cite>PopulationRunner</cite> object by reading the binary population parameters from an ini file specified by <cite>path_to_ini</cite>.
It also allows for optional verbosity, which, when set to True, enables additional information to be printed in operation of the class.</p>
<p>The <cite>path_to_ini</cite> should be a valid path to an ini file. If the provided <cite>path_to_ini</cite> does not have a ‘.ini’ extension, a <cite>ValueError</cite> is raised.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sp</span> <span class="o">=</span> <span class="n">PopulationRunner</span><span class="p">(</span><span class="s1">&#39;/path/to/ini/file.ini&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sp</span> <span class="o">=</span> <span class="n">PopulationRunner</span><span class="p">(</span><span class="s1">&#39;/path/to/ini/file.ini&#39;</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.PopulationRunner.evolve">
<span class="sig-name descname"><span class="pre">evolve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#PopulationRunner.evolve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.PopulationRunner.evolve" title="Link to this definition"></a></dt>
<dd><p>Evolve the binary populations.</p>
<p>This method is responsible for evolving the binary populations. It iterates over each population
in the <cite>binary_populations</cite> list and calls the <cite>evolve</cite> method on each population. After evolving
each population, it merges them using the <cite>merge_parallel_runs</cite> method.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <cite>merge_parallel_runs</cite> method is called only if the <cite>comm</cite> attribute of the population is <cite>None</cite>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.PopulationRunner.merge_parallel_runs">
<span class="sig-name descname"><span class="pre">merge_parallel_runs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pop</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#PopulationRunner.merge_parallel_runs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.PopulationRunner.merge_parallel_runs" title="Link to this definition"></a></dt>
<dd><p>Merge the parallel runs of the population.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pop</strong> (<a class="reference internal" href="#posydon.popsyn.binarypopulation.BinaryPopulation" title="posydon.popsyn.binarypopulation.BinaryPopulation"><em>BinaryPopulation</em></a>) – The binary population whose files have to be merged.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Rates">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">posydon.popsyn.synthetic_population.</span></span><span class="sig-name descname"><span class="pre">Rates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transient_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">SFH_identifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100000</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#Rates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.Rates" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#posydon.popsyn.synthetic_population.TransientPopulation" title="posydon.popsyn.synthetic_population.TransientPopulation"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransientPopulation</span></code></a></p>
<p>Class representing rates of a transient population.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Rates.SFH_identifier">
<span class="sig-name descname"><span class="pre">SFH_identifier</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.Rates.SFH_identifier" title="Link to this definition"></a></dt>
<dd><p>The identifier for the star formation history.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Rates.base_path">
<span class="sig-name descname"><span class="pre">base_path</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.Rates.base_path" title="Link to this definition"></a></dt>
<dd><p>The base path for accessing the rates data.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Rates.MODEL">
<span class="sig-name descname"><span class="pre">MODEL</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.Rates.MODEL" title="Link to this definition"></a></dt>
<dd><p>The model data for the star formation history.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Rates.weights">
<span class="sig-name descname"><span class="pre">weights</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.Rates.weights" title="Link to this definition"></a></dt>
<dd><p>The weights of the transient population.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Rates.z_birth">
<span class="sig-name descname"><span class="pre">z_birth</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.Rates.z_birth" title="Link to this definition"></a></dt>
<dd><p>The redshift of the birth bins.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Rates.z_events">
<span class="sig-name descname"><span class="pre">z_events</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.Rates.z_events" title="Link to this definition"></a></dt>
<dd><p>The redshift of the events.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Rates.intrinsic_rate_density">
<span class="sig-name descname"><span class="pre">intrinsic_rate_density</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.Rates.intrinsic_rate_density" title="Link to this definition"></a></dt>
<dd><p>The intrinsic rate density of the transient population.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Rates.observable_population_names">
<span class="sig-name descname"><span class="pre">observable_population_names</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.Rates.observable_population_names" title="Link to this definition"></a></dt>
<dd><p>The names of the observable populations.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Rates.edges_metallicity_bins">
<span class="sig-name descname"><span class="pre">edges_metallicity_bins</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.Rates.edges_metallicity_bins" title="Link to this definition"></a></dt>
<dd><p>The edges of the metallicity bins of the star formation history.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Rates.centers_metallicity_bins">
<span class="sig-name descname"><span class="pre">centers_metallicity_bins</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.Rates.centers_metallicity_bins" title="Link to this definition"></a></dt>
<dd><p>The centers of the metallicity bins of the star formation history.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Rates.edges_redshift_bins">
<span class="sig-name descname"><span class="pre">edges_redshift_bins</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.Rates.edges_redshift_bins" title="Link to this definition"></a></dt>
<dd><p>The edges of the redshift bins of the star formation history.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Rates.centers_redshift_bins">
<span class="sig-name descname"><span class="pre">centers_redshift_bins</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.Rates.centers_redshift_bins" title="Link to this definition"></a></dt>
<dd><p>The centers of the redshift bins of the star formation history.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<p>Initialize the Rates object.</p>
<p>This method initializes a Rates object by linking it to the population file
with the specified transient name and star formation history identifier.
The path in the file is ‘/transients/{transient_name}/rates/{SFH_identifier}’.</p>
<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Rates.calculate_intrinsic_rate_density">
<span class="sig-name descname"><span class="pre">calculate_intrinsic_rate_density</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#Rates.calculate_intrinsic_rate_density"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.Rates.calculate_intrinsic_rate_density" title="Link to this definition"></a></dt>
<dd><p>Compute the intrinsic rate density over redshift of the transient population.</p>
<p>Besides returning the intrinsic rate density, this method also stores the results in the HDF5 file for further analysis.
This can be accessed using the intrinsic_rate_density attribute of the Rates class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>channels</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – Flag indicating whether to calculate the intrinsic rate density for each channel separately. Default is False.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame containing the intrinsic rate density values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Rates.calculate_observable_population">
<span class="sig-name descname"><span class="pre">calculate_observable_population</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">observable_func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">observable_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#Rates.calculate_observable_population"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.Rates.calculate_observable_population" title="Link to this definition"></a></dt>
<dd><p>Calculate an observable population.</p>
<p>The observable population is calculated based on the provided observable function.
It should recalculate your weights based on an observability probability given certain transinet parameters.</p>
<p>This function requires the following input chunks:
1. transient_pop_chunk
2. z_events_chunk
3. weights_chunk
The observable function should output a DataFrame with the same shape as the weights_chunk.</p>
<p>The observable population is stored in the HDF5 file at
the location ‘/transients/{transient_name}/rates/observable/{observable_name}’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>observable_func</strong> (<em>function</em>) – The observability function that takes the TransientPopulation as input.</p></li>
<li><p><strong>observable_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The name of the observable.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>If the observable population already exists in the file, it will be overwritten.</p></li>
</ul>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id14">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">centers_metallicity_bins</span></span><a class="headerlink" href="#id14" title="Link to this definition"></a></dt>
<dd><p>Return the centers of the metallicity bins.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Returns sampled metallicities of the population. This corresponds
to the center of each metallicity bin.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>array float</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id15">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">centers_redshift_bins</span></span><a class="headerlink" href="#id15" title="Link to this definition"></a></dt>
<dd><p>Compute redshift bin centers.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>We devide the cosmic time history of the Universe in equally spaced
bins of cosmic time of self.MODEL[‘delta_t’] (100 Myr default) an compute the
redshift corresponding to center of these bins.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>array floats</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id16">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">edges_metallicity_bins</span></span><a class="headerlink" href="#id16" title="Link to this definition"></a></dt>
<dd><p>Return the edges of the metallicity bins.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Returns the edges of all metallicity bins. We assume metallicities
were binned in log-space.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>array float</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id17">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">edges_redshift_bins</span></span><a class="headerlink" href="#id17" title="Link to this definition"></a></dt>
<dd><p>Compute redshift bin edges.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>We devide the cosmic time history of the Universe in equally spaced
bins of cosmic time of self.MODEL[‘delta_t’] (100 Myr default) an compute the
redshift corresponding to edges of these bins.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>array floats</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id18">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">intrinsic_rate_density</span></span><a class="headerlink" href="#id18" title="Link to this definition"></a></dt>
<dd><p>Return the intrinsic rate density of the transient population at the specified SFH_identifier and transient_name.</p>
<p>The data is read from the HDF5 file at ‘/transients/{transient_name}/rates/{SFH_identifier}/intrinsic_rate_density’.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The intrinsic rate density of the transient population.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Rates.observable_population">
<span class="sig-name descname"><span class="pre">observable_population</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">observable_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#Rates.observable_population"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.Rates.observable_population" title="Link to this definition"></a></dt>
<dd><p>Return the observable population based on the provided name.</p>
<p>This method returns the observable population based on the provided name,
which can take a while to load if the population is large.
It loads the observable population from ‘/transients/{transient_name}/rates/observable/{observable_name}’ in the HDF5 file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>observable_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The name of the observable population to return.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The observable population based on the provided name.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id19">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">observable_population_names</span></span><a class="headerlink" href="#id19" title="Link to this definition"></a></dt>
<dd><p>Return the names of the observable populations in the associated file.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The names of the observable populations.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Rates.plot_hist_properties">
<span class="sig-name descname"><span class="pre">plot_hist_properties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intrinsic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">observable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#Rates.plot_hist_properties"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.Rates.plot_hist_properties" title="Link to this definition"></a></dt>
<dd><p>Plot a histogram of a given property available in the transient population.</p>
<p>This method plots a histogram of a given property available in the transient population.
The property can be intrinsic or observable, and the histogram can be plotted for a specific channel if provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prop</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The property to plot the histogram for.</p></li>
<li><p><strong>intrinsic</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, plot the intrinsic property. Default is True.</p></li>
<li><p><strong>observable</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – The observable population name to plot the histogram for. Default is None.</p></li>
<li><p><strong>bins</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The number of bins to use for the histogram. Default is 50.</p></li>
<li><p><strong>channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – The channel to plot the histogram for. Default is None.
A channel column must be present in the transient population.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments to pass to the plot</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – If the specified property is not a valid property in the transient population.
If the specified observable is not a valid observable population.
If the specified channel is not present in the transient population.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Rates.plot_intrinsic_rate">
<span class="sig-name descname"><span class="pre">plot_intrinsic_rate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">channels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#Rates.plot_intrinsic_rate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.Rates.plot_intrinsic_rate" title="Link to this definition"></a></dt>
<dd><p>Plot the intrinsic rate density of the transient population.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.Rates.select_rate_slice">
<span class="sig-name descname"><span class="pre">select_rate_slice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#Rates.select_rate_slice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.Rates.select_rate_slice" title="Link to this definition"></a></dt>
<dd><p>Selects a slice of a rates dataframe at key.</p>
<p>This method allows you to select a slice in rows from the diffferent rates dataframes.
The slice is selected based on the start and stop indices.
The key specifies which rates dataframe to select, and must be one of [‘weights’, ‘z_events’, ‘birth’].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The key to select the slice from. Must be one of [‘weights’, ‘z_events’, ‘birth’].</p></li>
<li><p><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The starting index of the slice. Defaults to None.</p></li>
<li><p><strong>stop</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The ending index of the slice. Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The selected slice of rates.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – If the key is not one of [‘weights’, ‘z_events’, ‘birth’].</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id20">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">weights</span></span><a class="headerlink" href="#id20" title="Link to this definition"></a></dt>
<dd><p>Retrieves the weights from the HDFStore.</p>
<p>The rows are indexed by the binary index of the events, while to columns are indexed by the redshift of the birth bins.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The weights DataFrame.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id21">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">z_birth</span></span><a class="headerlink" href="#id21" title="Link to this definition"></a></dt>
<dd><p>Retrieves the ‘birth’ data from the HDFStore.</p>
<p>The ‘birth’ DataFrame contains the redshift and age of the Universe of the birth bins with columns ‘z’ and ‘t’.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The ‘birth’ DataFrame, which contains the redshift and age of the Universe of the birth bins.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id22">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">z_events</span></span><a class="headerlink" href="#id22" title="Link to this definition"></a></dt>
<dd><p>Returns the ‘z_events’ data from the HDFStore.</p>
<p>The ‘z_events’ data contains the redshifts at which the events occur.
The rows of the returned DataFrame are indexed by the binary index of the events.
The columns of the returned DataFrame are indexed by the redshift of the birth bins.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The ‘z_events’ data from the HDFStore.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.TransientPopulation">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">posydon.popsyn.synthetic_population.</span></span><span class="sig-name descname"><span class="pre">TransientPopulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transient_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100000</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#TransientPopulation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.TransientPopulation" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#posydon.popsyn.synthetic_population.Population" title="posydon.popsyn.synthetic_population.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a></p>
<p>A class representing a population of transient events.</p>
<p>This class allows you to calculate additional properties of the population,
such as the efficiency of events per Msun for each solar metallicity, and to
calculate the cosmic weights of the transient population.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.TransientPopulation.population">
<span class="sig-name descname"><span class="pre">population</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.TransientPopulation.population" title="Link to this definition"></a></dt>
<dd><p>DataFrame containing the whole transient population.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.TransientPopulation.transient_name">
<span class="sig-name descname"><span class="pre">transient_name</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.TransientPopulation.transient_name" title="Link to this definition"></a></dt>
<dd><p>Name of the transient population.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.TransientPopulation.efficiency">
<span class="sig-name descname"><span class="pre">efficiency</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.TransientPopulation.efficiency" title="Link to this definition"></a></dt>
<dd><p>DataFrame containing the efficiency of events per Msun for each solar metallicity.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.TransientPopulation.columns">
<span class="sig-name descname"><span class="pre">columns</span></span><a class="headerlink" href="#posydon.popsyn.synthetic_population.TransientPopulation.columns" title="Link to this definition"></a></dt>
<dd><p>List of columns in the transient population.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a></p>
</dd>
</dl>
</dd></dl>

<p>Initialise the TransientPopulation object.</p>
<p>This method initializes the TransientPopulation object by linking it to the population file.
The transient population linked is located at ‘/transients/{transient_name}’ in the population file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The name of the file containing the population. The file should be in HDF5 format.</p></li>
<li><p><strong>transient_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The name of the transient population within the file.</p></li>
<li><p><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – If <cite>True</cite>, additional information will be printed during the initialization process.</p></li>
<li><p><strong>chunksize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The chunksize to use when reading the population file (default is 100000).</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – If the specified transient population name is not found in the file.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The population data is stored in an HDF5 file format. The file should contain a group named ‘/transients’ which
holds all the transient populations. The specified transient population name should be a valid group name within
‘/transients’. If the transient population has associated efficiencies, they will be loaded as well.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;population_data.h5&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transient_name</span> <span class="o">=</span> <span class="s1">&#39;BBH&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">population</span> <span class="o">=</span> <span class="n">TransientPopulation</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">transient_name</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.TransientPopulation.calculate_cosmic_weights">
<span class="sig-name descname"><span class="pre">calculate_cosmic_weights</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">SFH_identifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MODEL_in</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#TransientPopulation.calculate_cosmic_weights"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.TransientPopulation.calculate_cosmic_weights" title="Link to this definition"></a></dt>
<dd><p>Calculate the cosmic weights of the transient population.</p>
<p>This method calculates the cosmic weights of the transient population based on the provided star formation history identifier and model parameters.
It performs various calculations and stores the results in an HDF5 file at the location ‘/transients/{transient_name}/rates/{SFH_identifier}’.
This allows for multiple star formation histories to be used with the same transient population.</p>
<p>The default MODEL parameters are used if none are provided, which come from the IllustrisTNG model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>SFH_identifier</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – Identifier for the star formation history.</p></li>
<li><p><strong>MODEL_in</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a><em>, </em><em>optional</em>) – Dictionary containing the model parameters. If not provided, the default model parameters will be used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An instance of the Rates class.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#posydon.popsyn.synthetic_population.Rates" title="posydon.popsyn.synthetic_population.Rates">Rates</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – If a parameter name in MODEL_in is not valid.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This function calculates the cosmic weights of the transient population based on the provided star formation history
identifier and model parameters. It performs various calculations and stores the results in an HDF5 file.</p>
<p>The cosmic weights are computed for each event in the population, taking into account the metallicity, redshift,
and birth time of the events. The weights are calculated using the provided model parameters and the underlying mass
distribution.</p>
<p>The calculated weights, along with the corresponding redshifts of the events, are stored in the HDF5 file for further analysis.
These can be accessed using the Rates class.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">transient_population</span> <span class="o">=</span> <span class="n">TransientPopulation</span><span class="p">(</span><span class="s1">&#39;filename.h5&#39;</span><span class="p">,</span> <span class="s1">&#39;transient_name&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transient_population</span><span class="o">.</span><span class="n">calculate_cosmic_weights</span><span class="p">(</span><span class="s1">&#39;IllustrisTNG&#39;</span><span class="p">,</span> <span class="n">MODEL_in</span><span class="o">=</span><span class="n">DEFAULT_SFH_MODEL</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id23">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">columns</span></span><a class="headerlink" href="#id23" title="Link to this definition"></a></dt>
<dd><p>Return the columns of the transient population.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of column names in the transient population.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.TransientPopulation.get_efficiency_over_metallicity">
<span class="sig-name descname"><span class="pre">get_efficiency_over_metallicity</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#TransientPopulation.get_efficiency_over_metallicity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.TransientPopulation.get_efficiency_over_metallicity" title="Link to this definition"></a></dt>
<dd><p>Compute the efficiency of events per Msun for each solar_metallicities.</p>
<p>This method calculates the efficiency of events per solar mass for each solar metallicity value in the transient population.
It first checks if the efficiencies have already been computed and if so, overwrites them.
Then, it iterates over each metallicity value and calculates the efficiency by dividing the count of events with the underlying stellar mass.
The efficiencies are stored in a DataFrame with the metallicity values as the index and the ‘total’ column representing the efficiency for all channels.
If the ‘channel’ column is present, it also computes the merger efficiency per channel and adds the results to the DataFrame.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.TransientPopulation.plot_delay_time_distribution">
<span class="sig-name descname"><span class="pre">plot_delay_time_distribution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metallicity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'black'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#TransientPopulation.plot_delay_time_distribution"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.TransientPopulation.plot_delay_time_distribution" title="Link to this definition"></a></dt>
<dd><p>Plot the delay time distribution of the transient population.</p>
<p>This method plots the delay time distribution of the transient population. If a specific metallicity is provided,
the delay time distribution of the population at that metallicity will be plotted. Otherwise, the delay time distribution
of the entire population will be plotted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>metallicity</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> or </em><em>None</em>) – The metallicity value to select a specific population. If None, the delay time distribution of the entire population will be plotted.</p></li>
<li><p><strong>ax</strong> (<a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.html#matplotlib.axes.Axes" title="(in Matplotlib v3.10.6)"><em>matplotlib.axes.Axes</em></a><em> or </em><em>None</em>) – The axes object to plot the distribution on. If None, a new figure and axes will be created.</p></li>
<li><p><strong>bins</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – The number of bins to use for the histogram.</p></li>
<li><p><strong>color</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The color of the histogram.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.13)"><strong>ValueError</strong></a> – If the specified metallicity is not present in the population.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The delay time distribution is normalized by the total mass of the population if no metallicity is specified.</p></li>
</ul>
<p>Otherwise, it is normalized by the mass of the population at the specified metallicity.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.TransientPopulation.plot_efficiency_over_metallicity">
<span class="sig-name descname"><span class="pre">plot_efficiency_over_metallicity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#TransientPopulation.plot_efficiency_over_metallicity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.TransientPopulation.plot_efficiency_over_metallicity" title="Link to this definition"></a></dt>
<dd><p>Plot the efficiency over metallicity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>channel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a><em>, </em><em>optional</em>) – If True, plot the subchannels. Default is False.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.TransientPopulation.plot_popsyn_over_grid_slice">
<span class="sig-name descname"><span class="pre">plot_popsyn_over_grid_slice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">met_Zsun</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#TransientPopulation.plot_popsyn_over_grid_slice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.TransientPopulation.plot_popsyn_over_grid_slice" title="Link to this definition"></a></dt>
<dd><p>Plot the transients over the grid slice.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grid_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The type of grid to plot.</p></li>
<li><p><strong>met_Zsun</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – The metallicity of the Sun.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments to pass to the plot_pop.plot_popsyn_over_grid_slice function.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id24">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">population</span></span><a class="headerlink" href="#id24" title="Link to this definition"></a></dt>
<dd><p>Returns the entire transient population as a pandas DataFrame.</p>
<p>This method retrieves the transient population data from a file and returns it as a pandas DataFrame.
Please note that if the transient population is too large, it may consume a significant amount of memory.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A DataFrame containing the transient population data.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="posydon.popsyn.synthetic_population.TransientPopulation.select">
<span class="sig-name descname"><span class="pre">select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">where</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/synthetic_population.html#TransientPopulation.select"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.synthetic_population.TransientPopulation.select" title="Link to this definition"></a></dt>
<dd><p>Select a subset of the transient population.</p>
<p>This method allows you to filter and extract a subset of rows from the transient table stored in an HDF file.
You can specify conditions to filter the rows, define the range of rows to select, and choose specific columns to include in the subset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>where</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – A condition to filter the rows of the transient table. Default is None.
It is only possible to search on the index or string columns.</p></li>
<li><p><strong>start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The starting index of the subset. Default is None.</p></li>
<li><p><strong>stop</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The ending index of the subset. Default is None.</p></li>
<li><p><strong>columns</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a><em>, </em><em>optional</em>) – The column names to include in the subset. Default is None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The selected subset of the transient table.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p># Select rows based on a condition
&gt;&gt;&gt; df = transpop.select(where=”S1_state == ‘BH’”)</p>
<p># Select rows from index 10 to 20
&gt;&gt;&gt; df = transpop.select(start=10, stop=20)</p>
<p># Select specific columns
&gt;&gt;&gt; df = transpop.select(columns=[‘time’, ‘metallicity’])</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-posydon.popsyn.transient_select_funcs">
<span id="posydon-popsyn-transient-select-funcs"></span><h2>posydon.popsyn.transient_select_funcs<a class="headerlink" href="#module-posydon.popsyn.transient_select_funcs" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.transient_select_funcs.BBH_selection_function">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.transient_select_funcs.</span></span><span class="sig-name descname"><span class="pre">BBH_selection_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">history_chunk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oneline_chunk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formation_channels_chunk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/transient_select_funcs.html#BBH_selection_function"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.transient_select_funcs.BBH_selection_function" title="Link to this definition"></a></dt>
<dd><p>A BBH selection function to create a transient population of BBHs mergers.</p>
<p>This is an example function for selecting BBH mergers and some of their properties.
Additional properties from the history or oneline can be added to the transient population.
The output dataframe contains the following columns:
- time : the time of the event
- metallicity : the metallicity of the event
All other columns are optional.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>history_chunk</strong> (<em>pd.DataFrame</em>) – The history chunk of the DCO population.</p></li>
<li><p><strong>oneline_chunk</strong> (<em>pd.DataFrame</em>) – The oneline chunk of the DCO population.</p></li>
<li><p><strong>formation_channels_chunk</strong> (<em>pd.DataFrame</em><em> (</em><em>can be made optional</em><em>)</em>) – The formation pathway chunk of the DCO population.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>df_transients</strong> – A DataFrame containing the transient population of BBHs.
This DataFrame contains the following columns:
- time : the time of the event
- metallicity : the metallicity of the event</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.transient_select_funcs.DCO_detectability">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.transient_select_funcs.</span></span><span class="sig-name descname"><span class="pre">DCO_detectability</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sensitivity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transient_pop_chunk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_events_chunk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_weights_chunk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/transient_select_funcs.html#DCO_detectability"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.transient_select_funcs.DCO_detectability" title="Link to this definition"></a></dt>
<dd><p>Calculate the observability of a DCO population.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sensitivity</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – <p>The sensitivity of the detector.
Available sensitivities are (for Hanford, Livingston, Virgo network):
- ‘O3actual_H1L1V1’ : aligo_O3actual_H1.txt, aligo_O3actual_L1.txt, avirgo_O3actual.txt
- ‘O4low_H1L1V1’ : aligo_O4low.txt, aligo_O4low.txt, avirgo_O4high_NEW.txt
- ‘O4high_H1L1V1’ : aligo_O4high.txt, aligo_O4high.txt, avirgo_O4high_NEW.txt
- ‘design_H1L1V1’ : AplusDesign.txt, AplusDesign.txt, avirgo_O5high_NEW.txt</p>
<p>GW detector sensitivity and network configuration you want to use, see arXiv:1304.0670v3
detector sensitivities are taken from: https://dcc.ligo.org/LIGO-T2000012-v2/public</p>
</p></li>
<li><p><strong>Note</strong> (<em>The population must have the following columns:</em>)</p></li>
<li><p><strong>S1_mass</strong> (<em>-</em>)</p></li>
<li><p><strong>columns</strong> (<em>For the following</em>)</p></li>
<li><p><strong>present</strong> (<em>the function will try to calculate them if they are not</em>)</p></li>
<li><p><strong>q</strong> (<em>For</em>)</p></li>
<li><p><strong>chi_eff</strong> (<em>For</em>)</p></li>
<li><p><strong>q</strong></p></li>
<li><p><strong>present.</strong> (<em>S2_spin_orbit_tilt_at_merger must be</em>)</p></li>
<li><p><strong>chi_eff</strong></p></li>
<li><p><strong>S1_Mass</strong></p></li>
<li><p><strong>S2_mass</strong></p></li>
<li><p><strong>S1_spin</strong></p></li>
<li><p><strong>S2_spin</strong></p></li>
<li><p><strong>S1_spin_orbit_tilt_at_merger</strong></p></li>
<li><p><strong>present.</strong></p></li>
<li><p><strong>not</strong> (<em>These have to be present and a valid value. If</em>)</p></li>
<li><p><strong>error!</strong> (<em>the function will raise an</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.transient_select_funcs.GRB_selection">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.transient_select_funcs.</span></span><span class="sig-name descname"><span class="pre">GRB_selection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">history_chunk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oneline_chunk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formation_channels_chunk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">S1_S2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'S1'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/transient_select_funcs.html#GRB_selection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.transient_select_funcs.GRB_selection" title="Link to this definition"></a></dt>
<dd><p>A GRB selection function to create a transient population of LGRBs.</p>
<p>This function requires a wrapper function to be used to create a transient population, because
of the extra parameters that are needed to be passed to the function (S1_S2).</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">GRB_selection_wrapper</span><span class="p">(</span><span class="n">history_chunk</span><span class="p">,</span> <span class="n">oneline_chunk</span><span class="p">,</span> <span class="n">formation_channels_chunk</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">GRB_selection</span><span class="p">(</span><span class="n">history_chunk</span><span class="p">,</span> <span class="n">oneline_chunk</span><span class="p">,</span> <span class="n">formation_channels_chunk</span><span class="p">,</span> <span class="n">S1_S2</span><span class="o">=</span><span class="s1">&#39;S1&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This is an example function for selecting LGRBs and some of their properties.
Additional properties from the history or oneline can be added to the transient population.
The output dataframe contains the following columns:
- time : the time of the event
- metallicity : the metallicity of the event
- S1_m_disk_radiated : the mass of the disk radiated by the first star
- S2_m_disk_radiated : the mass of the disk radiated by the second star</p>
<p>Columns with pre and post SN data:
- S1_mass : the mass of the first star
- S2_mass : the mass of the second star
- S1_spin : the spin of the first star
- S2_spin : the spin of the second star
- orbital_period : the orbital period of the binary
- eccentricity : the eccentricity of the binary</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>history_chunk</strong> (<em>pd.DataFrame</em>) – The history chunk of the population.</p></li>
<li><p><strong>oneline_chunk</strong> (<em>pd.DataFrame</em>) – The oneline chunk of the population.</p></li>
<li><p><strong>formation_channels_chunk</strong> (<em>pd.DataFrame</em><em> (</em><em>can be made optional</em><em>)</em>) – The formation pathway chunk of the population.</p></li>
<li><p><strong>S1_S2</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The star that will be the progenitor of the GRB. Can be either ‘S1’ or ‘S2’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A DataFrame containing the transient population of LGRBs with the columns mentioned above.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">GRB_selection_wrapper</span><span class="p">(</span><span class="n">pop</span><span class="o">.</span><span class="n">history</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">pop</span><span class="o">.</span><span class="n">oneline</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">pop</span><span class="o">.</span><span class="n">formation_channels</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pop</span><span class="o">.</span><span class="n">create_transient_population</span><span class="p">(</span><span class="n">GRB_selection_wrapper</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;GRB_S1&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.transient_select_funcs.chi_eff">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.transient_select_funcs.</span></span><span class="sig-name descname"><span class="pre">chi_eff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m_1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">m_2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a_1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a_2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tilt_1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tilt_2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/transient_select_funcs.html#chi_eff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.transient_select_funcs.chi_eff" title="Link to this definition"></a></dt>
<dd><p>Calculate the effective spin of two masses.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m_1</strong> (<em>np.ndarray</em>) – The mass of the first BH.</p></li>
<li><p><strong>m_2</strong> (<em>np.ndarray</em>) – The mass of the second BH.</p></li>
<li><p><strong>a_1</strong> (<em>np.ndarray</em>) – The spin of the first BH.</p></li>
<li><p><strong>a_2</strong> (<em>np.ndarray</em>) – The spin of the second BH.</p></li>
<li><p><strong>tilt_1</strong> (<em>np.ndarray</em>) – The tilt of the first BH.</p></li>
<li><p><strong>tilt_2</strong> (<em>np.ndarray</em>) – The tilt of the second BH.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The effective spin of the BHs.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.transient_select_funcs.m_chirp">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.transient_select_funcs.</span></span><span class="sig-name descname"><span class="pre">m_chirp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m_1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">m_2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/transient_select_funcs.html#m_chirp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.transient_select_funcs.m_chirp" title="Link to this definition"></a></dt>
<dd><p>Calculate the chirp mass of two masses.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="posydon.popsyn.transient_select_funcs.mass_ratio">
<span class="sig-prename descclassname"><span class="pre">posydon.popsyn.transient_select_funcs.</span></span><span class="sig-name descname"><span class="pre">mass_ratio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m_1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">m_2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/posydon/popsyn/transient_select_funcs.html#mass_ratio"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#posydon.popsyn.transient_select_funcs.mass_ratio" title="Link to this definition"></a></dt>
<dd><p>Calculate the mass ratio of two masses.</p>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="posydon.interpolation.html" class="btn btn-neutral float-left" title="posydon.interpolation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="posydon.user_modules.html" class="btn btn-neutral float-right" title="posydon.user_modules" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Tassos Fragos.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      Version: 2.0.0
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        
        <dl>
            <dt> v2</dt>
            
            <dd><a href="https://posydon.org/POSYDON/v2.0.6/index.html">2.0</a></dd>
            
            <dd><a href="https://posydon.org/POSYDON/v2.1.2/index.html">2.1</a></dd>
            
        </dl>
        
        <dl>
            <dt> v1</dt>
            
            <dd><a href="https://posydon.org/POSYDON/v1.0.5/index.html">1.0</a></dd>
            
        </dl>
        
    </div>
  </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>